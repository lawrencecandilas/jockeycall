[TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164237] === New Call [example-channel test] [jockeycall.pl] ===
[TRACE] [20220506-164237] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164237] lock code is d54db7ce-400d-4ab3-a3ea-44e11667f6e1
[TRACE] [20220506-164237] *** Subcommand::process_subcommand_other_than_next("example-channel","test")
[TRACE] [20220506-164237]     Parameters: "11650","",""
[TRACE] [20220506-164237] *** Subcommand::command_test("example-channel","11650","12359") ***
11650: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164237] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164237] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164237] lock code is 8d3fbea9-9813-4701-8753-cb7ecac6190f
[TRACE] [20220506-164237] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164237] subcommand is next - bouncing back
[DEBUG] [20220506-164237] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164237] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164237] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164237] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164237] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164237] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-datestring","11650") sqlite
[DEBUG] [SIM-11650] current datestring 11650, last_datestring 11701
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11650] *** OOB::periodic_process("../share/doc/example-channel/periodic",11701,11650)
[DEBUG] [SIM-11650] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11650] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11650] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11650]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11650] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11650] .. '10700' >= '11650' ?
[TRACE] [SIM-11650] .. '11700' >= '11650' ?
[DEBUG] [SIM-11650] this call is in timeslot 10700
[TRACE] [SIM-11650] *** DataMoving::setup_timeslot_vars("10700") sqlite
[TRACE] [SIM-11650]     timeslot_id is 0b2897419e51d1354b9fc88e12a9046e
[DEBUG] [SIM-11650] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11650] .. '10700' > '10700' ?
[TRACE] [SIM-11650] .. '11700' > '10700' ?
[DEBUG] [SIM-11650] next timeslot is 11700
[DEBUG] [SIM-11650] 10 minutes until next schedule
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11650] previous call was in timeslot 11700
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last_timeslot","10700") sqlite
[TRACE] [SIM-11650] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/10700/periodic",11701,11650)
[DEBUG] [SIM-11650] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11650] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11650] *** entering_new_timeslot()
[== New Timeslot ==] [DEBUG] [SIM-11650] entering new timeslot
[TRACE] [SIM-11650] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11650] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11650] *** DataMoving::new_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_key("timeslot-event-counter","1") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/10700")
[TRACE] [SIM-11650] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11650]     existing list 0 lines
[DEBUG] [SIM-11650] 0 items in timeslot-dir-history
[TRACE] [SIM-11650] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/10700,ARRAY(0x5573b512da38),ARRAY(0x5573b512da08)) sqlite
[TRACE] [SIM-11650]     push ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[TRACE] [SIM-11650]     push ../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once
[DEBUG] [SIM-11650]     2 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/10700"
[TRACE] [SIM-11650] tsd is ../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once
[TRACE] [SIM-11650]  parameters: ordered=1, cycle=0, newhistory=1, limit=99999
[DEBUG] [SIM-11650] Starting new history
[TRACE] [SIM-11650] *** DataMoving::new_list("history") sqlite
[DEBUG] [SIM-11650] history has 0 entry(ies)
[TRACE] [SIM-11650] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once) sqlite
[TRACE] [SIM-11650] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once/Example Show 1 - Introduction.mp3)
[TRACE] [SIM-11650] *** DataMoving::get_metadata(e9bc520dfc74ee1511aa075ba8a94a8c)
[TRACE] [SIM-11650]     candidate track 0: e9bc520dfc74ee1511aa075ba8a94a8c, Example Show 1 - Introduction.mp3, C:3, L:4, W:0
[DEBUG] [SIM-11650] timeslot 10700 has 1 tracks not played yet.
[TRACE] [SIM-11650] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11650] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11650] *** Operation::process_any_active
[TRACE] [SIM-11650] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11650] timeslot has a random directory, telling Random module
[TRACE] [SIM-11650] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/10700/random")
[DEBUG] [SIM-11650] Spinner for random is 99 out of 100, random_percent is 42
[TRACE] [SIM-11650] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11650] timeslot portion is ordered, sorting by track name
[TRACE] [SIM-11650] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11650] count: 3 track:Example Show 1 - Introduction.mp3 length:4
[TRACE] [SIM-11650] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11650] selected track 1: Example Show 1 - Introduction.mp3
[TRACE] [SIM-11650] *** DataMoving::set_metadata(e9bc520dfc74ee1511aa075ba8a94a8c,HASH(0x5573b5a77e60)) sqlite
[TRACE] [SIM-11650] *** DataMoving::append_to_list("history","e9bc520dfc74ee1511aa075ba8a94a8c") sqlite
[TRACE] [SIM-11650] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once/Example Show 1 - Introduction.mp3",,0)
[TRACE] [SIM-11650] *** DataMoving::set_rkey("now-playing","Example Show 1 - Introduction.mp3") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_metadata(e9bc520dfc74ee1511aa075ba8a94a8c)
../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once/Example Show 1 - Introduction.mp3
11650: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164237] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164237] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164237] lock code is 10718519-d6f2-4dbc-9816-3dac80e9b71d
[TRACE] [20220506-164237] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164237] subcommand is next - bouncing back
[DEBUG] [20220506-164237] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164237] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164237] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164237] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164237] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164237] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-datestring","11650") sqlite
[DEBUG] [SIM-11650] current datestring 11650, last_datestring 11650
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11650] *** OOB::periodic_process("../share/doc/example-channel/periodic",11650,11650)
[DEBUG] [SIM-11650] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11650] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11650] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11650]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11650] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11650] .. '10700' >= '11650' ?
[TRACE] [SIM-11650] .. '11700' >= '11650' ?
[DEBUG] [SIM-11650] this call is in timeslot 10700
[TRACE] [SIM-11650] *** DataMoving::setup_timeslot_vars("10700") sqlite
[TRACE] [SIM-11650]     timeslot_id is 0b2897419e51d1354b9fc88e12a9046e
[DEBUG] [SIM-11650] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11650] .. '10700' > '10700' ?
[TRACE] [SIM-11650] .. '11700' > '10700' ?
[DEBUG] [SIM-11650] next timeslot is 11700
[DEBUG] [SIM-11650] 10 minutes until next schedule
[TRACE] [SIM-11650] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11650] previous call was in timeslot 10700
[TRACE] [SIM-11650] *** DataMoving::set_rkey("last_timeslot","10700") sqlite
[TRACE] [SIM-11650] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/10700/periodic",11650,11650)
[DEBUG] [SIM-11650] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11650] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11650] still in same timeslot, using existing history
[TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_key("timeslot-event-counter","2") sqlite
[TRACE] [SIM-11650] *** Operation::cancel_any_active
[TRACE] [SIM-11650] *** DataMoving::get_rkey("current_operation","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("current_operation_file","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("current_operation","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("current_operation_step","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("current_operation_data1","") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("current_operation_data2","") sqlite
[DEBUG] [SIM-11650] [Operation::cancel_any_active] there was not an active operation to cancel
[TRACE] [SIM-11650] *** timeslot_zone(1,10700,11700,10)
[== Schedule Yellow Zone ==] [TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11650] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/10700/periodic/yellow-mark",11650,11650)
[DEBUG] [SIM-11650] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11650]     periodic subdirectory "../share/doc/example-channel/schedule/weekday/10700/periodic/yellow-mark" doesn't exist or is inaccessible
[TRACE] [SIM-11650] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/10700")
[TRACE] [SIM-11650] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11650]     existing list 0 lines
[DEBUG] [SIM-11650] 0 items in timeslot-dir-history
[TRACE] [SIM-11650] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/10700,ARRAY(0x56116a98c8f8),ARRAY(0x56116a98c8c8)) sqlite
[TRACE] [SIM-11650]     push ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[TRACE] [SIM-11650]     push ../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once
[DEBUG] [SIM-11650]     2 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/10700"
[TRACE] [SIM-11650] tsd is ../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once
[TRACE] [SIM-11650]  parameters: ordered=1, cycle=0, newhistory=1, limit=99999
[DEBUG] [SIM-11650] Using existing history
[TRACE] [SIM-11650] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11650]     existing list 1 lines
[DEBUG] [SIM-11650] history has 1 entry(ies)
[TRACE] [SIM-11650] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once) sqlite
[TRACE] [SIM-11650] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once/Example Show 1 - Introduction.mp3)
[TRACE] [SIM-11650] track e9bc520dfc74ee1511aa075ba8a94a8c: ../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once/Example Show 1 - Introduction.mp3 found in history, skipped
[DEBUG] [SIM-11650] timeslot 10700 has 0 tracks not played yet.
[TRACE] [SIM-11650] *** DataMoving::append_to_list("timeslot-dir-history","../share/doc/example-channel/schedule/weekday/10700/t-001-ordered-once") sqlite
[TRACE] [SIM-11650] *** Operation::cancel_any_active - already cancelled
[TRACE] [SIM-11650] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/10700")
[TRACE] [SIM-11650] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11650] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11650]     existing list 1 lines
[DEBUG] [SIM-11650] 1 items in timeslot-dir-history
[TRACE] [SIM-11650] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/10700,ARRAY(0x56116a98c8f8),ARRAY(0x56116a98c8c8)) sqlite
[TRACE] [SIM-11650]     push ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11650]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/10700"
[TRACE] [SIM-11650] tsd is ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[TRACE] [SIM-11650]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11650] Using existing history
[TRACE] [SIM-11650] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11650]     existing list 1 lines
[DEBUG] [SIM-11650] history has 1 entry(ies)
[TRACE] [SIM-11650] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11650] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3)
[TRACE] [SIM-11650] *** DataMoving::get_metadata(aad1c9f05da4c923f6e79cfe72a7c050)
[TRACE] [SIM-11650]     candidate track 0: aad1c9f05da4c923f6e79cfe72a7c050, David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3, C:172, L:7, W:0
[TRACE] [SIM-11650] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3)
[TRACE] [SIM-11650] *** DataMoving::get_metadata(f66a6ae7f807d0830564239f211ef305)
[TRACE] [SIM-11650]     candidate track 1: f66a6ae7f807d0830564239f211ef305, David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3, C:67, L:482, W:0
[TRACE] [SIM-11650] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3)
[TRACE] [SIM-11650] *** DataMoving::get_metadata(d36914b8b1590888fbdaab69dad3a910)
[TRACE] [SIM-11650]     candidate track 2: d36914b8b1590888fbdaab69dad3a910, David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3, C:67, L:220, W:0
[DEBUG] [SIM-11650] timeslot 10700 has 3 tracks not played yet.
[TRACE] [SIM-11650] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11650] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11650] *** Operation::process_any_active
[TRACE] [SIM-11650]     cancelled flag set, exiting immediately
[DEBUG] [SIM-11650] timeslot has a random directory, telling Random module
[TRACE] [SIM-11650] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/10700/random")
[DEBUG] [SIM-11650] Spinner for random is 13 out of 100, random_percent is 42
[DEBUG] [SIM-11650] Hit for random, selecting and playing random track
[TRACE] [SIM-11650] *** Random::get_random_track("ARRAY(0x56116a98c928)",10,)
[TRACE] [SIM-11650]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11650]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/10700/random" that was previously set for random tracks
[TRACE] [SIM-11650]     No tracks left in "ARRAY(0x56116a98c928)" after checking history
[DEBUG] [SIM-11650] Random::get_random_track could not select a track
[DEBUG] [SIM-11650] Proceeding with normal flow
[TRACE] [SIM-11650] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11650] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11650] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11650] count: 67 track:David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3 length:482
[TRACE] [SIM-11650] count: 67 track:David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3 length:220
[TRACE] [SIM-11650] count: 172 track:David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3 length:7
[TRACE] [SIM-11650] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11650] selected track 1: David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3
[TRACE] [SIM-11650] *** DataMoving::set_metadata(f66a6ae7f807d0830564239f211ef305,HASH(0x56116b35bfb8)) sqlite
[TRACE] [SIM-11650] *** DataMoving::append_to_list("history","f66a6ae7f807d0830564239f211ef305") sqlite
[TRACE] [SIM-11650] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3",,0)
[TRACE] [SIM-11650] *** DataMoving::set_rkey("now-playing","David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3") sqlite
[TRACE] [SIM-11650] *** DataMoving::get_metadata(f66a6ae7f807d0830564239f211ef305)
../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3
11658: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164237] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164237] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164237] lock code is ae99f2ce-5a5c-41d9-a6f2-928a8680a579
[TRACE] [20220506-164237] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164237] subcommand is next - bouncing back
[DEBUG] [20220506-164237] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164237] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164237] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164237] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164237] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164237] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11658] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("last-datestring","11658") sqlite
[DEBUG] [SIM-11658] current datestring 11658, last_datestring 11650
[TRACE] [SIM-11658] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11658] *** OOB::periodic_process("../share/doc/example-channel/periodic",11650,11658)
[DEBUG] [SIM-11658] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11658] *** DataMoving::set_rkey("interval-rr-counter-10","9") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11658] *** DataMoving::set_rkey("interval-rr-counter-12","7") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11658] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11658]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11658] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11658] .. '10700' >= '11658' ?
[TRACE] [SIM-11658] .. '11700' >= '11658' ?
[DEBUG] [SIM-11658] this call is in timeslot 10700
[TRACE] [SIM-11658] *** DataMoving::setup_timeslot_vars("10700") sqlite
[TRACE] [SIM-11658]     timeslot_id is 0b2897419e51d1354b9fc88e12a9046e
[DEBUG] [SIM-11658] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11658] .. '10700' > '10700' ?
[TRACE] [SIM-11658] .. '11700' > '10700' ?
[DEBUG] [SIM-11658] next timeslot is 11700
[DEBUG] [SIM-11658] 2 minutes until next schedule
[TRACE] [SIM-11658] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11658] previous call was in timeslot 10700
[TRACE] [SIM-11658] *** DataMoving::set_rkey("last_timeslot","10700") sqlite
[TRACE] [SIM-11658] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/10700/periodic",11650,11658)
[DEBUG] [SIM-11658] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11658] *** DataMoving::set_rkey("interval-rr-counter-10","10") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11658] *** DataMoving::set_rkey("interval-rr-counter-12","8") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11658] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11658] still in same timeslot, using existing history
[TRACE] [SIM-11658] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_key("timeslot-event-counter","3") sqlite
[TRACE] [SIM-11658] *** Operation::cancel_any_active
[TRACE] [SIM-11658] *** DataMoving::get_rkey("current_operation","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("current_operation_file","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("current_operation","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("current_operation_step","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("current_operation_data1","") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("current_operation_data2","") sqlite
[DEBUG] [SIM-11658] [Operation::cancel_any_active] there was not an active operation to cancel
[TRACE] [SIM-11658] *** timeslot_zone(2,10700,11700,2)
[== Schedule Red Zone ==] [TRACE] [SIM-11658] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11658] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/10700/periodic/red-mark",11650,11658)
[DEBUG] [SIM-11658] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11658]     periodic subdirectory "../share/doc/example-channel/schedule/weekday/10700/periodic/red-mark" doesn't exist or is inaccessible
[TRACE] [SIM-11658] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11658] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/10700")
[TRACE] [SIM-11658] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11658] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11658]     existing list 1 lines
[DEBUG] [SIM-11658] 1 items in timeslot-dir-history
[TRACE] [SIM-11658] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/10700,ARRAY(0x55e84bd9ca38),ARRAY(0x55e84bd9ca08)) sqlite
[TRACE] [SIM-11658]     push ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11658]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/10700"
[TRACE] [SIM-11658] tsd is ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory
[TRACE] [SIM-11658]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11658] Using existing history
[TRACE] [SIM-11658] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11658]     existing list 2 lines
[DEBUG] [SIM-11658] history has 2 entry(ies)
[TRACE] [SIM-11658] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11658] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3)
[TRACE] [SIM-11658] *** DataMoving::get_metadata(aad1c9f05da4c923f6e79cfe72a7c050)
[TRACE] [SIM-11658]     candidate track 0: aad1c9f05da4c923f6e79cfe72a7c050, David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3, C:172, L:7, W:0
[TRACE] [SIM-11658] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3)
[TRACE] [SIM-11658] track f66a6ae7f807d0830564239f211ef305: ../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - II. Andante sostenuto.mp3 found in history, skipped
[TRACE] [SIM-11658] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3)
[TRACE] [SIM-11658] *** DataMoving::get_metadata(d36914b8b1590888fbdaab69dad3a910)
[TRACE] [SIM-11658]     candidate track 1: d36914b8b1590888fbdaab69dad3a910, David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3, C:67, L:220, W:0
[DEBUG] [SIM-11658] timeslot 10700 has 2 tracks not played yet.
[TRACE] [SIM-11658] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11658] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11658] *** Operation::process_any_active
[TRACE] [SIM-11658]     cancelled flag set, exiting immediately
[DEBUG] [SIM-11658] timeslot has a random directory, telling Random module
[TRACE] [SIM-11658] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/10700/random")
[DEBUG] [SIM-11658] Spinner for random is 63 out of 100, random_percent is 42
[TRACE] [SIM-11658] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11658] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11658] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11658] count: 67 track:David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3 length:220
[TRACE] [SIM-11658] count: 172 track:David H. Porter - Schubert's Sonata in B Flat, D. 960 - I. Molto moderato.mp3 length:7
[TRACE] [SIM-11658] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11658] selected track 1: David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3
[TRACE] [SIM-11658] *** DataMoving::set_metadata(d36914b8b1590888fbdaab69dad3a910,HASH(0x55e84c76c540)) sqlite
[TRACE] [SIM-11658] *** DataMoving::append_to_list("history","d36914b8b1590888fbdaab69dad3a910") sqlite
[TRACE] [SIM-11658] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3",,0)
[TRACE] [SIM-11658] *** DataMoving::set_rkey("now-playing","David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3") sqlite
[TRACE] [SIM-11658] *** DataMoving::get_metadata(d36914b8b1590888fbdaab69dad3a910)
../share/doc/example-channel/schedule/weekday/10700/t-010-random-cycle-newhistory/David H. Porter - Schubert's Sonata in B Flat, D. 960 - III. Scherzo (Allegro vivace con delicatezza).mp3
11701: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164238] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164238] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164238] lock code is 9f115c52-8299-47c6-9ff2-d54ba797989f
[TRACE] [20220506-164238] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164238] subcommand is next - bouncing back
[DEBUG] [20220506-164238] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164238] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164238] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164238] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164238] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164238] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-datestring","11701") sqlite
[DEBUG] [SIM-11701] current datestring 11701, last_datestring 11658
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11701] *** OOB::periodic_process("../share/doc/example-channel/periodic",11658,11701)
[DEBUG] [SIM-11701] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11701] *** DataMoving::set_rkey("interval-rr-counter-3","11") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11701] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11701]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11701] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11701] .. '10700' >= '11701' ?
[TRACE] [SIM-11701] .. '11700' >= '11701' ?
[DEBUG] [SIM-11701] this call is in timeslot 11700
[TRACE] [SIM-11701] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11701]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11701] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11701] .. '10700' > '11700' ?
[TRACE] [SIM-11701] .. '11700' > '11700' ?
[TRACE] [SIM-11701] .. '13100' > '11700' ?
[DEBUG] [SIM-11701] next timeslot is 13100
[DEBUG] [SIM-11701] 839 minutes until next schedule
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11701] previous call was in timeslot 10700
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11701] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11658,11701)
[DEBUG] [SIM-11701] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11701] *** DataMoving::set_rkey("interval-rr-counter-3","12") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11701] *** entering_new_timeslot()
[== New Timeslot ==] [DEBUG] [SIM-11701] entering new timeslot
[TRACE] [SIM-11701] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11701] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11701] *** DataMoving::new_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_key("timeslot-event-counter","1") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11701] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11701]     existing list 0 lines
[DEBUG] [SIM-11701] 0 items in timeslot-dir-history
[TRACE] [SIM-11701] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55ff624a78f8),ARRAY(0x55ff624a78c8)) sqlite
[TRACE] [SIM-11701]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11701]     push ../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once
[DEBUG] [SIM-11701]     2 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11701] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once
[TRACE] [SIM-11701]  parameters: ordered=1, cycle=0, newhistory=1, limit=99999
[DEBUG] [SIM-11701] Starting new history
[TRACE] [SIM-11701] *** DataMoving::new_list("history") sqlite
[DEBUG] [SIM-11701] history has 0 entry(ies)
[TRACE] [SIM-11701] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once) sqlite
[TRACE] [SIM-11701] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once/Example Show 2 - Introduction.mp3)
[TRACE] [SIM-11701] *** DataMoving::get_metadata(f52a2c719b1d81e6f3eb38d744aae21e)
[TRACE] [SIM-11701]     candidate track 0: f52a2c719b1d81e6f3eb38d744aae21e, Example Show 2 - Introduction.mp3, C:4, L:4, W:0
[DEBUG] [SIM-11701] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11701] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11701] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11701] *** Operation::process_any_active
[TRACE] [SIM-11701] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11701] timeslot has a random directory, telling Random module
[TRACE] [SIM-11701] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11701] Spinner for random is 63 out of 100, random_percent is 42
[TRACE] [SIM-11701] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11701] timeslot portion is ordered, sorting by track name
[TRACE] [SIM-11701] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11701] count: 4 track:Example Show 2 - Introduction.mp3 length:4
[TRACE] [SIM-11701] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11701] selected track 1: Example Show 2 - Introduction.mp3
[TRACE] [SIM-11701] *** DataMoving::set_metadata(f52a2c719b1d81e6f3eb38d744aae21e,HASH(0x55ff62e76a80)) sqlite
[TRACE] [SIM-11701] *** DataMoving::append_to_list("history","f52a2c719b1d81e6f3eb38d744aae21e") sqlite
[TRACE] [SIM-11701] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once/Example Show 2 - Introduction.mp3",,0)
[TRACE] [SIM-11701] *** DataMoving::set_rkey("now-playing","Example Show 2 - Introduction.mp3") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_metadata(f52a2c719b1d81e6f3eb38d744aae21e)
../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once/Example Show 2 - Introduction.mp3
11701: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164238] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164238] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164238] lock code is 925dd810-9a6c-4c51-aec2-5dfc9bf2ab71
[TRACE] [20220506-164238] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164238] subcommand is next - bouncing back
[DEBUG] [20220506-164238] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164238] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164238] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164238] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164238] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164238] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-datestring","11701") sqlite
[DEBUG] [SIM-11701] current datestring 11701, last_datestring 11701
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11701] *** OOB::periodic_process("../share/doc/example-channel/periodic",11701,11701)
[DEBUG] [SIM-11701] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11701] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11701]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11701] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11701] .. '10700' >= '11701' ?
[TRACE] [SIM-11701] .. '11700' >= '11701' ?
[DEBUG] [SIM-11701] this call is in timeslot 11700
[TRACE] [SIM-11701] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11701]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11701] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11701] .. '10700' > '11700' ?
[TRACE] [SIM-11701] .. '11700' > '11700' ?
[TRACE] [SIM-11701] .. '13100' > '11700' ?
[DEBUG] [SIM-11701] next timeslot is 13100
[DEBUG] [SIM-11701] 839 minutes until next schedule
[TRACE] [SIM-11701] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11701] previous call was in timeslot 11700
[TRACE] [SIM-11701] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11701] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11701,11701)
[DEBUG] [SIM-11701] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11701] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11701] still in same timeslot, using existing history
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11701] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11701] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11701]     existing list 0 lines
[DEBUG] [SIM-11701] 0 items in timeslot-dir-history
[TRACE] [SIM-11701] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x565295f9da38),ARRAY(0x565295f9da08)) sqlite
[TRACE] [SIM-11701]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11701]     push ../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once
[DEBUG] [SIM-11701]     2 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11701] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once
[TRACE] [SIM-11701]  parameters: ordered=1, cycle=0, newhistory=1, limit=99999
[DEBUG] [SIM-11701] Using existing history
[TRACE] [SIM-11701] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11701]     existing list 1 lines
[DEBUG] [SIM-11701] history has 1 entry(ies)
[TRACE] [SIM-11701] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once) sqlite
[TRACE] [SIM-11701] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once/Example Show 2 - Introduction.mp3)
[TRACE] [SIM-11701] track f52a2c719b1d81e6f3eb38d744aae21e: ../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once/Example Show 2 - Introduction.mp3 found in history, skipped
[DEBUG] [SIM-11701] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11701] *** DataMoving::append_to_list("timeslot-dir-history","../share/doc/example-channel/schedule/weekday/11700/t-001-ordered-once") sqlite
[TRACE] [SIM-11701] *** Operation::cancel_any_active
[TRACE] [SIM-11701] *** DataMoving::get_rkey("current_operation","") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("current_operation_file","") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("current_operation","") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("current_operation_step","") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("current_operation_data1","") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("current_operation_data2","") sqlite
[DEBUG] [SIM-11701] [Operation::cancel_any_active] there was not an active operation to cancel
[TRACE] [SIM-11701] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11701] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11701] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11701]     existing list 1 lines
[DEBUG] [SIM-11701] 1 items in timeslot-dir-history
[TRACE] [SIM-11701] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x565295f9da38),ARRAY(0x565295f9da08)) sqlite
[TRACE] [SIM-11701]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11701]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11701] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11701]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11701] Using existing history
[TRACE] [SIM-11701] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11701]     existing list 1 lines
[DEBUG] [SIM-11701] history has 1 entry(ies)
[TRACE] [SIM-11701] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11701] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11701] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11701]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:86, L:79, W:0
[TRACE] [SIM-11701] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11701] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11701]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:86, L:222, W:0
[DEBUG] [SIM-11701] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11701] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11701] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11701] *** Operation::process_any_active
[TRACE] [SIM-11701]     cancelled flag set, exiting immediately
[DEBUG] [SIM-11701] timeslot has a random directory, telling Random module
[TRACE] [SIM-11701] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11701] Spinner for random is 84 out of 100, random_percent is 42
[TRACE] [SIM-11701] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11701] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11701] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11701] count: 86 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11701] count: 86 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11701] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11701] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11701] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x56529696d510)) sqlite
[TRACE] [SIM-11701] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11701] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11701] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11701] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11704: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164238] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164238] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164238] lock code is 51f56f98-df1c-447c-ba5e-33c403f4742b
[TRACE] [20220506-164238] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164238] subcommand is next - bouncing back
[DEBUG] [20220506-164238] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164238] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164238] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164238] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164238] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164238] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11704] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::set_rkey("last-datestring","11704") sqlite
[DEBUG] [SIM-11704] current datestring 11704, last_datestring 11701
[TRACE] [SIM-11704] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11704] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11704] *** OOB::periodic_process("../share/doc/example-channel/periodic",11701,11704)
[DEBUG] [SIM-11704] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-2","7") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-3","13") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-5","12") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-6","9") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-10","11") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-12","9") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-15","15") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11704]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11704] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-20","11") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-30","9") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 60 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-60","5") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11704] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11704]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11704] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11704] .. '10700' >= '11704' ?
[TRACE] [SIM-11704] .. '11700' >= '11704' ?
[DEBUG] [SIM-11704] this call is in timeslot 11700
[TRACE] [SIM-11704] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11704]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11704] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11704] .. '10700' > '11700' ?
[TRACE] [SIM-11704] .. '11700' > '11700' ?
[TRACE] [SIM-11704] .. '13100' > '11700' ?
[DEBUG] [SIM-11704] next timeslot is 13100
[DEBUG] [SIM-11704] 836 minutes until next schedule
[TRACE] [SIM-11704] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11704] previous call was in timeslot 11700
[TRACE] [SIM-11704] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11704] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11701,11704)
[DEBUG] [SIM-11704] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-2","8") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-3","14") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-5","13") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-6","10") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-10","12") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-12","10") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-15","16") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11704]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11704] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-20","12") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-30","10") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] new 60 minute mark - scanning for periodics
[TRACE] [SIM-11704] *** DataMoving::set_rkey("interval-rr-counter-60","6") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11704] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11704] still in same timeslot, using existing history
[TRACE] [SIM-11704] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11704] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11704] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11704] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11704] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11704] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11704]     existing list 1 lines
[DEBUG] [SIM-11704] 1 items in timeslot-dir-history
[TRACE] [SIM-11704] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x561cedae4a38),ARRAY(0x561cedae4a08)) sqlite
[TRACE] [SIM-11704]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11704]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11704] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11704]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11704] Using existing history
[TRACE] [SIM-11704] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11704]     existing list 2 lines
[DEBUG] [SIM-11704] history has 2 entry(ies)
[TRACE] [SIM-11704] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11704] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11704] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11704]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:86, L:79, W:0
[TRACE] [SIM-11704] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11704] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11704] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11704] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11704] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11704] *** Operation::process_any_active
[TRACE] [SIM-11704] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11704] timeslot has a random directory, telling Random module
[TRACE] [SIM-11704] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11704] Spinner for random is 47 out of 100, random_percent is 42
[TRACE] [SIM-11704] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11704] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11704] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11704] count: 86 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11704] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11704] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11704] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x561cee4b2540)) sqlite
[TRACE] [SIM-11704] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11704] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11704] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11704] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11705: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164239] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164239] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164239] lock code is 72012a31-af49-4efe-adec-ca5892903104
[TRACE] [20220506-164239] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164239] subcommand is next - bouncing back
[DEBUG] [20220506-164239] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164239] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164239] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164239] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164239] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164239] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11705] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::set_rkey("last-datestring","11705") sqlite
[DEBUG] [SIM-11705] current datestring 11705, last_datestring 11704
[TRACE] [SIM-11705] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11705] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11705] *** OOB::periodic_process("../share/doc/example-channel/periodic",11704,11705)
[DEBUG] [SIM-11705] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11705] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11705] *** DataMoving::set_rkey("interval-rr-counter-2","9") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11705] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11705] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11705]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11705] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11705] .. '10700' >= '11705' ?
[TRACE] [SIM-11705] .. '11700' >= '11705' ?
[DEBUG] [SIM-11705] this call is in timeslot 11700
[TRACE] [SIM-11705] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11705]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11705] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11705] .. '10700' > '11700' ?
[TRACE] [SIM-11705] .. '11700' > '11700' ?
[TRACE] [SIM-11705] .. '13100' > '11700' ?
[DEBUG] [SIM-11705] next timeslot is 13100
[DEBUG] [SIM-11705] 835 minutes until next schedule
[TRACE] [SIM-11705] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11705] previous call was in timeslot 11700
[TRACE] [SIM-11705] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11705] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11704,11705)
[DEBUG] [SIM-11705] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11705] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11705] *** DataMoving::set_rkey("interval-rr-counter-2","10") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11705] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11705] still in same timeslot, using existing history
[TRACE] [SIM-11705] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11705] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11705] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11705] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11705]     existing list 1 lines
[DEBUG] [SIM-11705] 1 items in timeslot-dir-history
[TRACE] [SIM-11705] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55db546e68f8),ARRAY(0x55db546e68c8)) sqlite
[TRACE] [SIM-11705]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11705]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11705] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11705]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11705] Using existing history
[TRACE] [SIM-11705] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11705]     existing list 3 lines
[DEBUG] [SIM-11705] history has 3 entry(ies)
[TRACE] [SIM-11705] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11705] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11705] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11705] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11705] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11705] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11705] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11705] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11705] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11705]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:87, L:79, W:0
[TRACE] [SIM-11705] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11705] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11705]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:87, L:222, W:0
[DEBUG] [SIM-11705] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11705] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11705] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11705] *** Operation::process_any_active
[TRACE] [SIM-11705] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11705] timeslot has a random directory, telling Random module
[TRACE] [SIM-11705] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11705] Spinner for random is 97 out of 100, random_percent is 42
[TRACE] [SIM-11705] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11705] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11705] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11705] count: 87 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11705] count: 87 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11705] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11705] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11705] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55db550b3550)) sqlite
[TRACE] [SIM-11705] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11705] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11705] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11705] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11708: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164239] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164239] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164239] lock code is 03dd6456-9d42-4ceb-b94b-a5fc1b950004
[TRACE] [20220506-164239] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164239] subcommand is next - bouncing back
[DEBUG] [20220506-164239] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164239] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164239] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164239] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164239] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164239] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11708] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::set_rkey("last-datestring","11708") sqlite
[DEBUG] [SIM-11708] current datestring 11708, last_datestring 11705
[TRACE] [SIM-11708] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11708] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11708] *** OOB::periodic_process("../share/doc/example-channel/periodic",11705,11708)
[DEBUG] [SIM-11708] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-2","11") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-3","15") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-5","14") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11708] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11708]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11708] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11708] .. '10700' >= '11708' ?
[TRACE] [SIM-11708] .. '11700' >= '11708' ?
[DEBUG] [SIM-11708] this call is in timeslot 11700
[TRACE] [SIM-11708] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11708]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11708] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11708] .. '10700' > '11700' ?
[TRACE] [SIM-11708] .. '11700' > '11700' ?
[TRACE] [SIM-11708] .. '13100' > '11700' ?
[DEBUG] [SIM-11708] next timeslot is 13100
[DEBUG] [SIM-11708] 832 minutes until next schedule
[TRACE] [SIM-11708] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11708] previous call was in timeslot 11700
[TRACE] [SIM-11708] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11708] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11705,11708)
[DEBUG] [SIM-11708] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-2","12") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-3","16") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11708] *** DataMoving::set_rkey("interval-rr-counter-5","15") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11708] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11708] still in same timeslot, using existing history
[TRACE] [SIM-11708] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11708] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11708] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11708] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11708]     existing list 1 lines
[DEBUG] [SIM-11708] 1 items in timeslot-dir-history
[TRACE] [SIM-11708] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x560fa99098f8),ARRAY(0x560fa99098c8)) sqlite
[TRACE] [SIM-11708]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11708]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11708] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11708]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11708] Using existing history
[TRACE] [SIM-11708] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11708]     existing list 1 lines
[DEBUG] [SIM-11708] history has 1 entry(ies)
[TRACE] [SIM-11708] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11708] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11708] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11708]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:87, L:79, W:0
[TRACE] [SIM-11708] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11708] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11708] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11708] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11708] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11708] *** Operation::process_any_active
[TRACE] [SIM-11708] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11708] timeslot has a random directory, telling Random module
[TRACE] [SIM-11708] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11708] Spinner for random is 3 out of 100, random_percent is 42
[DEBUG] [SIM-11708] Hit for random, selecting and playing random track
[TRACE] [SIM-11708] *** Random::get_random_track("ARRAY(0x560fa9909928)",832,)
[TRACE] [SIM-11708]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11708]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11708]     No tracks left in "ARRAY(0x560fa9909928)" after checking history
[DEBUG] [SIM-11708] Random::get_random_track could not select a track
[DEBUG] [SIM-11708] Proceeding with normal flow
[TRACE] [SIM-11708] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11708] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11708] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11708] count: 87 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11708] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11708] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11708] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x560faa2d7eb8)) sqlite
[TRACE] [SIM-11708] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11708] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11708] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11708] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11709: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164239] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164239] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164239] lock code is 09a8c3db-ba8c-485e-a79d-a3f70e49e86a
[TRACE] [20220506-164239] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164239] subcommand is next - bouncing back
[DEBUG] [20220506-164239] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164239] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164239] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164239] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164239] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164239] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11709] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::set_rkey("last-datestring","11709") sqlite
[DEBUG] [SIM-11709] current datestring 11709, last_datestring 11708
[TRACE] [SIM-11709] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11709] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11709] *** OOB::periodic_process("../share/doc/example-channel/periodic",11708,11709)
[DEBUG] [SIM-11709] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-2","13") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-3","1") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-6","11") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11709] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11709]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11709] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11709] .. '10700' >= '11709' ?
[TRACE] [SIM-11709] .. '11700' >= '11709' ?
[DEBUG] [SIM-11709] this call is in timeslot 11700
[TRACE] [SIM-11709] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11709]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11709] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11709] .. '10700' > '11700' ?
[TRACE] [SIM-11709] .. '11700' > '11700' ?
[TRACE] [SIM-11709] .. '13100' > '11700' ?
[DEBUG] [SIM-11709] next timeslot is 13100
[DEBUG] [SIM-11709] 831 minutes until next schedule
[TRACE] [SIM-11709] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11709] previous call was in timeslot 11700
[TRACE] [SIM-11709] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11709] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11708,11709)
[DEBUG] [SIM-11709] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-2","14") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-3","2") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11709] *** DataMoving::set_rkey("interval-rr-counter-6","12") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11709] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11709] still in same timeslot, using existing history
[TRACE] [SIM-11709] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11709] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11709] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11709] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11709]     existing list 1 lines
[DEBUG] [SIM-11709] 1 items in timeslot-dir-history
[TRACE] [SIM-11709] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55acdc067198),ARRAY(0x55acdc067168)) sqlite
[TRACE] [SIM-11709]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11709]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11709] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11709]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11709] Using existing history
[TRACE] [SIM-11709] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11709]     existing list 2 lines
[DEBUG] [SIM-11709] history has 2 entry(ies)
[TRACE] [SIM-11709] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11709] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11709] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11709] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11709] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11709] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11709] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11709] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11709] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11709]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:88, L:79, W:0
[TRACE] [SIM-11709] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11709] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11709]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:88, L:222, W:0
[DEBUG] [SIM-11709] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11709] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11709] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11709] *** Operation::process_any_active
[TRACE] [SIM-11709] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11709] timeslot has a random directory, telling Random module
[TRACE] [SIM-11709] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11709] Spinner for random is 57 out of 100, random_percent is 42
[TRACE] [SIM-11709] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11709] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11709] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11709] count: 88 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11709] count: 88 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11709] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11709] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11709] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55acdca36508)) sqlite
[TRACE] [SIM-11709] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11709] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11709] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11709] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11712: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164239] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164239] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164239] lock code is 897fb67b-0bb8-4a22-b86c-8bfd449d9c81
[TRACE] [20220506-164239] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164239] subcommand is next - bouncing back
[DEBUG] [20220506-164239] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164239] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164239] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164239] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164239] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164239] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11712] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::set_rkey("last-datestring","11712") sqlite
[DEBUG] [SIM-11712] current datestring 11712, last_datestring 11709
[TRACE] [SIM-11712] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11712] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11712] *** OOB::periodic_process("../share/doc/example-channel/periodic",11709,11712)
[DEBUG] [SIM-11712] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11712] *** DataMoving::set_rkey("interval-rr-counter-2","15") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11712] *** DataMoving::set_rkey("interval-rr-counter-3","3") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11712] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11712]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11712] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11712] .. '10700' >= '11712' ?
[TRACE] [SIM-11712] .. '11700' >= '11712' ?
[DEBUG] [SIM-11712] this call is in timeslot 11700
[TRACE] [SIM-11712] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11712]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11712] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11712] .. '10700' > '11700' ?
[TRACE] [SIM-11712] .. '11700' > '11700' ?
[TRACE] [SIM-11712] .. '13100' > '11700' ?
[DEBUG] [SIM-11712] next timeslot is 13100
[DEBUG] [SIM-11712] 828 minutes until next schedule
[TRACE] [SIM-11712] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11712] previous call was in timeslot 11700
[TRACE] [SIM-11712] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11712] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11709,11712)
[DEBUG] [SIM-11712] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11712] *** DataMoving::set_rkey("interval-rr-counter-2","16") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11712] *** DataMoving::set_rkey("interval-rr-counter-3","4") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11712] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11712] still in same timeslot, using existing history
[TRACE] [SIM-11712] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11712] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11712] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11712] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11712]     existing list 1 lines
[DEBUG] [SIM-11712] 1 items in timeslot-dir-history
[TRACE] [SIM-11712] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55d057782f48),ARRAY(0x55d057782f18)) sqlite
[TRACE] [SIM-11712]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11712]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11712] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11712]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11712] Using existing history
[TRACE] [SIM-11712] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11712]     existing list 1 lines
[DEBUG] [SIM-11712] history has 1 entry(ies)
[TRACE] [SIM-11712] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11712] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11712] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11712]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:88, L:79, W:0
[TRACE] [SIM-11712] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11712] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11712] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11712] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11712] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11712] *** Operation::process_any_active
[TRACE] [SIM-11712] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11712] timeslot has a random directory, telling Random module
[TRACE] [SIM-11712] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11712] Spinner for random is 57 out of 100, random_percent is 42
[TRACE] [SIM-11712] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11712] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11712] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11712] count: 88 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11712] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11712] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11712] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55d05796d4b8)) sqlite
[TRACE] [SIM-11712] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11712] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11712] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11712] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11713: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164239] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164239] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164239] lock code is 150fae3d-0ec0-4067-adb5-6a2d15a5105a
[TRACE] [20220506-164239] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164239] subcommand is next - bouncing back
[DEBUG] [20220506-164239] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164239] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164239] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164239] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164239] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164239] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11713] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::set_rkey("last-datestring","11713") sqlite
[DEBUG] [SIM-11713] current datestring 11713, last_datestring 11712
[TRACE] [SIM-11713] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11713] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11713] *** OOB::periodic_process("../share/doc/example-channel/periodic",11712,11713)
[DEBUG] [SIM-11713] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-2","1") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-5","16") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-10","13") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11713] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11713]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11713] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11713] .. '10700' >= '11713' ?
[TRACE] [SIM-11713] .. '11700' >= '11713' ?
[DEBUG] [SIM-11713] this call is in timeslot 11700
[TRACE] [SIM-11713] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11713]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11713] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11713] .. '10700' > '11700' ?
[TRACE] [SIM-11713] .. '11700' > '11700' ?
[TRACE] [SIM-11713] .. '13100' > '11700' ?
[DEBUG] [SIM-11713] next timeslot is 13100
[DEBUG] [SIM-11713] 827 minutes until next schedule
[TRACE] [SIM-11713] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11713] previous call was in timeslot 11700
[TRACE] [SIM-11713] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11713] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11712,11713)
[DEBUG] [SIM-11713] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-2","2") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-5","1") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11713] *** DataMoving::set_rkey("interval-rr-counter-10","14") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11713] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11713] still in same timeslot, using existing history
[TRACE] [SIM-11713] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11713] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11713] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11713] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11713]     existing list 1 lines
[DEBUG] [SIM-11713] 1 items in timeslot-dir-history
[TRACE] [SIM-11713] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55aa5c3018f8),ARRAY(0x55aa5c3018c8)) sqlite
[TRACE] [SIM-11713]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11713]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11713] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11713]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11713] Using existing history
[TRACE] [SIM-11713] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11713]     existing list 2 lines
[DEBUG] [SIM-11713] history has 2 entry(ies)
[TRACE] [SIM-11713] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11713] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11713] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11713] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11713] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11713] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11713] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11713] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11713] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11713]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:89, L:79, W:0
[TRACE] [SIM-11713] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11713] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11713]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:89, L:222, W:0
[DEBUG] [SIM-11713] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11713] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11713] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11713] *** Operation::process_any_active
[TRACE] [SIM-11713] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11713] timeslot has a random directory, telling Random module
[TRACE] [SIM-11713] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11713] Spinner for random is 47 out of 100, random_percent is 42
[TRACE] [SIM-11713] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11713] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11713] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11713] count: 89 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11713] count: 89 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11713] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11713] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11713] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55aa5cccfcd8)) sqlite
[TRACE] [SIM-11713] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11713] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11713] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11713] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11716: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164240] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164240] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164240] lock code is c4fb5772-c9ab-4bc8-acd8-47dfda36bc63
[TRACE] [20220506-164240] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164240] subcommand is next - bouncing back
[DEBUG] [20220506-164240] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164240] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164240] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164240] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164240] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164240] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11716] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::set_rkey("last-datestring","11716") sqlite
[DEBUG] [SIM-11716] current datestring 11716, last_datestring 11713
[TRACE] [SIM-11716] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11716] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11716] *** OOB::periodic_process("../share/doc/example-channel/periodic",11713,11716)
[DEBUG] [SIM-11716] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-2","3") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-3","5") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-6","13") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-12","11") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11716] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11716]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11716] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11716] .. '10700' >= '11716' ?
[TRACE] [SIM-11716] .. '11700' >= '11716' ?
[DEBUG] [SIM-11716] this call is in timeslot 11700
[TRACE] [SIM-11716] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11716]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11716] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11716] .. '10700' > '11700' ?
[TRACE] [SIM-11716] .. '11700' > '11700' ?
[TRACE] [SIM-11716] .. '13100' > '11700' ?
[DEBUG] [SIM-11716] next timeslot is 13100
[DEBUG] [SIM-11716] 824 minutes until next schedule
[TRACE] [SIM-11716] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11716] previous call was in timeslot 11700
[TRACE] [SIM-11716] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11716] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11713,11716)
[DEBUG] [SIM-11716] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-2","4") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-3","6") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-6","14") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11716] *** DataMoving::set_rkey("interval-rr-counter-12","12") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11716] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11716] still in same timeslot, using existing history
[TRACE] [SIM-11716] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11716] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11716] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11716] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11716]     existing list 1 lines
[DEBUG] [SIM-11716] 1 items in timeslot-dir-history
[TRACE] [SIM-11716] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55d96aeaca38),ARRAY(0x55d96aeaca08)) sqlite
[TRACE] [SIM-11716]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11716]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11716] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11716]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11716] Using existing history
[TRACE] [SIM-11716] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11716]     existing list 1 lines
[DEBUG] [SIM-11716] history has 1 entry(ies)
[TRACE] [SIM-11716] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11716] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11716] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11716]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:89, L:79, W:0
[TRACE] [SIM-11716] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11716] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11716] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11716] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11716] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11716] *** Operation::process_any_active
[TRACE] [SIM-11716] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11716] timeslot has a random directory, telling Random module
[TRACE] [SIM-11716] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11716] Spinner for random is 85 out of 100, random_percent is 42
[TRACE] [SIM-11716] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11716] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11716] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11716] count: 89 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11716] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11716] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11716] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55d96b87b868)) sqlite
[TRACE] [SIM-11716] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11716] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11716] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11716] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11717: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164240] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164240] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164240] lock code is 81f281eb-32ad-402f-9b97-271283855e48
[TRACE] [20220506-164240] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164240] subcommand is next - bouncing back
[DEBUG] [20220506-164240] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164240] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164240] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164240] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164240] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164240] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11717] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::set_rkey("last-datestring","11717") sqlite
[DEBUG] [SIM-11717] current datestring 11717, last_datestring 11716
[TRACE] [SIM-11717] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11717] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11717] *** OOB::periodic_process("../share/doc/example-channel/periodic",11716,11717)
[DEBUG] [SIM-11717] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11717] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11717] *** DataMoving::set_rkey("interval-rr-counter-2","5") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11717] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11717] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11717]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11717] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11717] .. '10700' >= '11717' ?
[TRACE] [SIM-11717] .. '11700' >= '11717' ?
[DEBUG] [SIM-11717] this call is in timeslot 11700
[TRACE] [SIM-11717] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11717]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11717] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11717] .. '10700' > '11700' ?
[TRACE] [SIM-11717] .. '11700' > '11700' ?
[TRACE] [SIM-11717] .. '13100' > '11700' ?
[DEBUG] [SIM-11717] next timeslot is 13100
[DEBUG] [SIM-11717] 823 minutes until next schedule
[TRACE] [SIM-11717] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11717] previous call was in timeslot 11700
[TRACE] [SIM-11717] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11717] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11716,11717)
[DEBUG] [SIM-11717] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11717] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11717] *** DataMoving::set_rkey("interval-rr-counter-2","6") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11717] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11717] still in same timeslot, using existing history
[TRACE] [SIM-11717] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11717] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11717] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11717] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11717]     existing list 1 lines
[DEBUG] [SIM-11717] 1 items in timeslot-dir-history
[TRACE] [SIM-11717] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x561bfc183a38),ARRAY(0x561bfc183a08)) sqlite
[TRACE] [SIM-11717]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11717]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11717] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11717]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11717] Using existing history
[TRACE] [SIM-11717] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11717]     existing list 2 lines
[DEBUG] [SIM-11717] history has 2 entry(ies)
[TRACE] [SIM-11717] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11717] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11717] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11717] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11717] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11717] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11717] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11717] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11717] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11717]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:90, L:79, W:0
[TRACE] [SIM-11717] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11717] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11717]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:90, L:222, W:0
[DEBUG] [SIM-11717] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11717] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11717] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11717] *** Operation::process_any_active
[TRACE] [SIM-11717] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11717] timeslot has a random directory, telling Random module
[TRACE] [SIM-11717] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11717] Spinner for random is 65 out of 100, random_percent is 42
[TRACE] [SIM-11717] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11717] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11717] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11717] count: 90 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11717] count: 90 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11717] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11717] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11717] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x561bfcb51ee8)) sqlite
[TRACE] [SIM-11717] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11717] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11717] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11717] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11720: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164240] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164240] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164240] lock code is ea9be316-7a0d-41a4-92d8-3906f39c3c4e
[TRACE] [20220506-164240] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164240] subcommand is next - bouncing back
[DEBUG] [20220506-164240] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164240] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164240] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164240] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164240] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164240] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11720] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::set_rkey("last-datestring","11720") sqlite
[DEBUG] [SIM-11720] current datestring 11720, last_datestring 11717
[TRACE] [SIM-11720] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11720] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11720] *** OOB::periodic_process("../share/doc/example-channel/periodic",11717,11720)
[DEBUG] [SIM-11720] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-2","7") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-3","7") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-5","2") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-15","1") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11720] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11720]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11720] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11720] .. '10700' >= '11720' ?
[TRACE] [SIM-11720] .. '11700' >= '11720' ?
[DEBUG] [SIM-11720] this call is in timeslot 11700
[TRACE] [SIM-11720] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11720]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11720] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11720] .. '10700' > '11700' ?
[TRACE] [SIM-11720] .. '11700' > '11700' ?
[TRACE] [SIM-11720] .. '13100' > '11700' ?
[DEBUG] [SIM-11720] next timeslot is 13100
[DEBUG] [SIM-11720] 820 minutes until next schedule
[TRACE] [SIM-11720] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11720] previous call was in timeslot 11700
[TRACE] [SIM-11720] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11720] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11717,11720)
[DEBUG] [SIM-11720] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-2","8") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-3","8") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-5","3") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11720] *** DataMoving::set_rkey("interval-rr-counter-15","2") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11720] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11720] still in same timeslot, using existing history
[TRACE] [SIM-11720] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11720] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11720] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11720] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11720]     existing list 1 lines
[DEBUG] [SIM-11720] 1 items in timeslot-dir-history
[TRACE] [SIM-11720] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x56155659d8f8),ARRAY(0x56155659d8c8)) sqlite
[TRACE] [SIM-11720]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11720]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11720] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11720]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11720] Using existing history
[TRACE] [SIM-11720] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11720]     existing list 1 lines
[DEBUG] [SIM-11720] history has 1 entry(ies)
[TRACE] [SIM-11720] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11720] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11720] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11720]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:90, L:79, W:0
[TRACE] [SIM-11720] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11720] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11720] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11720] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11720] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11720] *** Operation::process_any_active
[TRACE] [SIM-11720] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11720] timeslot has a random directory, telling Random module
[TRACE] [SIM-11720] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11720] Spinner for random is 89 out of 100, random_percent is 42
[TRACE] [SIM-11720] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11720] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11720] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11720] count: 90 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11720] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11720] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11720] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x561556f6c878)) sqlite
[TRACE] [SIM-11720] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11720] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11720] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11720] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11721: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164240] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164240] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164240] lock code is 600159fe-e886-4ed6-9f37-c4b1cabc49a9
[TRACE] [20220506-164240] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164240] subcommand is next - bouncing back
[DEBUG] [20220506-164240] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164240] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164240] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164240] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164240] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164240] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11721] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::set_rkey("last-datestring","11721") sqlite
[DEBUG] [SIM-11721] current datestring 11721, last_datestring 11720
[TRACE] [SIM-11721] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11721] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11721] *** OOB::periodic_process("../share/doc/example-channel/periodic",11720,11721)
[DEBUG] [SIM-11721] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-2","9") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-3","9") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-6","15") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11721] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11721]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11721] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11721] .. '10700' >= '11721' ?
[TRACE] [SIM-11721] .. '11700' >= '11721' ?
[DEBUG] [SIM-11721] this call is in timeslot 11700
[TRACE] [SIM-11721] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11721]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11721] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11721] .. '10700' > '11700' ?
[TRACE] [SIM-11721] .. '11700' > '11700' ?
[TRACE] [SIM-11721] .. '13100' > '11700' ?
[DEBUG] [SIM-11721] next timeslot is 13100
[DEBUG] [SIM-11721] 819 minutes until next schedule
[TRACE] [SIM-11721] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11721] previous call was in timeslot 11700
[TRACE] [SIM-11721] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11721] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11720,11721)
[DEBUG] [SIM-11721] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-2","10") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-3","10") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11721] *** DataMoving::set_rkey("interval-rr-counter-6","16") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11721] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11721] still in same timeslot, using existing history
[TRACE] [SIM-11721] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11721] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11721] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11721] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11721]     existing list 1 lines
[DEBUG] [SIM-11721] 1 items in timeslot-dir-history
[TRACE] [SIM-11721] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5558472858f8),ARRAY(0x5558472858c8)) sqlite
[TRACE] [SIM-11721]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11721]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11721] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11721]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11721] Using existing history
[TRACE] [SIM-11721] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11721]     existing list 2 lines
[DEBUG] [SIM-11721] history has 2 entry(ies)
[TRACE] [SIM-11721] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11721] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11721] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11721] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11721] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11721] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11721] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11721] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11721] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11721]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:91, L:79, W:0
[TRACE] [SIM-11721] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11721] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11721]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:91, L:222, W:0
[DEBUG] [SIM-11721] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11721] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11721] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11721] *** Operation::process_any_active
[TRACE] [SIM-11721] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11721] timeslot has a random directory, telling Random module
[TRACE] [SIM-11721] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11721] Spinner for random is 14 out of 100, random_percent is 42
[DEBUG] [SIM-11721] Hit for random, selecting and playing random track
[TRACE] [SIM-11721] *** Random::get_random_track("ARRAY(0x555847285928)",819,)
[TRACE] [SIM-11721]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11721]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11721]     No tracks left in "ARRAY(0x555847285928)" after checking history
[DEBUG] [SIM-11721] Random::get_random_track could not select a track
[DEBUG] [SIM-11721] Proceeding with normal flow
[TRACE] [SIM-11721] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11721] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11721] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11721] count: 91 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11721] count: 91 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11721] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11721] selected track 2: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11721] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x555847c54d98)) sqlite
[TRACE] [SIM-11721] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11721] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11721] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11721] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11722: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164241] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164241] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164241] lock code is 0b46cf34-206e-4c18-a1d9-a079bbd80ae5
[TRACE] [20220506-164241] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164241] subcommand is next - bouncing back
[DEBUG] [20220506-164241] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164241] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164241] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164241] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164241] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164241] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11722] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::set_rkey("last-datestring","11722") sqlite
[DEBUG] [SIM-11722] current datestring 11722, last_datestring 11721
[TRACE] [SIM-11722] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11722] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11722] *** OOB::periodic_process("../share/doc/example-channel/periodic",11721,11722)
[DEBUG] [SIM-11722] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11722] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11722] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11722]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11722] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11722] .. '10700' >= '11722' ?
[TRACE] [SIM-11722] .. '11700' >= '11722' ?
[DEBUG] [SIM-11722] this call is in timeslot 11700
[TRACE] [SIM-11722] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11722]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11722] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11722] .. '10700' > '11700' ?
[TRACE] [SIM-11722] .. '11700' > '11700' ?
[TRACE] [SIM-11722] .. '13100' > '11700' ?
[DEBUG] [SIM-11722] next timeslot is 13100
[DEBUG] [SIM-11722] 818 minutes until next schedule
[TRACE] [SIM-11722] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11722] previous call was in timeslot 11700
[TRACE] [SIM-11722] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11722] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11721,11722)
[DEBUG] [SIM-11722] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11722] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11722] still in same timeslot, using existing history
[TRACE] [SIM-11722] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11722] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11722] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11722] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11722]     existing list 1 lines
[DEBUG] [SIM-11722] 1 items in timeslot-dir-history
[TRACE] [SIM-11722] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5621a2f3f8f8),ARRAY(0x5621a2f3f8c8)) sqlite
[TRACE] [SIM-11722]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11722]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11722] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11722]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11722] Using existing history
[TRACE] [SIM-11722] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11722]     existing list 1 lines
[DEBUG] [SIM-11722] history has 1 entry(ies)
[TRACE] [SIM-11722] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11722] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11722] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11722] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11722] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11722]     candidate track 0: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:91, L:222, W:0
[DEBUG] [SIM-11722] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11722] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11722] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11722] *** Operation::process_any_active
[TRACE] [SIM-11722] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11722] timeslot has a random directory, telling Random module
[TRACE] [SIM-11722] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11722] Spinner for random is 16 out of 100, random_percent is 42
[DEBUG] [SIM-11722] Hit for random, selecting and playing random track
[TRACE] [SIM-11722] *** Random::get_random_track("ARRAY(0x5621a2f3f928)",818,)
[TRACE] [SIM-11722]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11722]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11722]     No tracks left in "ARRAY(0x5621a2f3f928)" after checking history
[DEBUG] [SIM-11722] Random::get_random_track could not select a track
[DEBUG] [SIM-11722] Proceeding with normal flow
[TRACE] [SIM-11722] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11722] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11722] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11722] count: 91 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11722] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11722] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11722] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x5621a390e170)) sqlite
[TRACE] [SIM-11722] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11722] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11722] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11722] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11725: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164241] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164241] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164241] lock code is 6efad2e0-fafb-45d8-87c1-49c412661aaf
[TRACE] [20220506-164241] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164241] subcommand is next - bouncing back
[DEBUG] [20220506-164241] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164241] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164241] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164241] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164241] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164241] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11725] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::set_rkey("last-datestring","11725") sqlite
[DEBUG] [SIM-11725] current datestring 11725, last_datestring 11722
[TRACE] [SIM-11725] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11725] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11725] *** OOB::periodic_process("../share/doc/example-channel/periodic",11722,11725)
[DEBUG] [SIM-11725] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-3","11") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-5","4") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-10","15") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11725]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11725] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-20","13") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 40 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-40","7") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11725] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11725]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11725] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11725] .. '10700' >= '11725' ?
[TRACE] [SIM-11725] .. '11700' >= '11725' ?
[DEBUG] [SIM-11725] this call is in timeslot 11700
[TRACE] [SIM-11725] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11725]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11725] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11725] .. '10700' > '11700' ?
[TRACE] [SIM-11725] .. '11700' > '11700' ?
[TRACE] [SIM-11725] .. '13100' > '11700' ?
[DEBUG] [SIM-11725] next timeslot is 13100
[DEBUG] [SIM-11725] 815 minutes until next schedule
[TRACE] [SIM-11725] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11725] previous call was in timeslot 11700
[TRACE] [SIM-11725] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11725] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11722,11725)
[DEBUG] [SIM-11725] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-3","12") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-5","5") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-10","16") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11725]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11725] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-20","14") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] new 40 minute mark - scanning for periodics
[TRACE] [SIM-11725] *** DataMoving::set_rkey("interval-rr-counter-40","8") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11725] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11725] still in same timeslot, using existing history
[TRACE] [SIM-11725] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11725] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11725] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11725] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11725] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11725] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11725]     existing list 1 lines
[DEBUG] [SIM-11725] 1 items in timeslot-dir-history
[TRACE] [SIM-11725] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55d3fae556b8),ARRAY(0x55d3fae55688)) sqlite
[TRACE] [SIM-11725]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11725]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11725] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11725]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11725] Using existing history
[TRACE] [SIM-11725] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11725]     existing list 2 lines
[DEBUG] [SIM-11725] history has 2 entry(ies)
[TRACE] [SIM-11725] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11725] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11725] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11725] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11725] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11725] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11725] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11725] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11725] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11725]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:92, L:79, W:0
[TRACE] [SIM-11725] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11725] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11725]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:92, L:222, W:0
[DEBUG] [SIM-11725] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11725] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11725] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11725] *** Operation::process_any_active
[TRACE] [SIM-11725] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11725] timeslot has a random directory, telling Random module
[TRACE] [SIM-11725] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11725] Spinner for random is 11 out of 100, random_percent is 42
[DEBUG] [SIM-11725] Hit for random, selecting and playing random track
[TRACE] [SIM-11725] *** Random::get_random_track("ARRAY(0x55d3fae556e8)",815,)
[TRACE] [SIM-11725]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11725]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11725]     No tracks left in "ARRAY(0x55d3fae556e8)" after checking history
[DEBUG] [SIM-11725] Random::get_random_track could not select a track
[DEBUG] [SIM-11725] Proceeding with normal flow
[TRACE] [SIM-11725] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11725] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11725] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11725] count: 92 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11725] count: 92 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11725] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11725] selected track 2: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11725] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55d3fb031998)) sqlite
[TRACE] [SIM-11725] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11725] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11725] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11725] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11726: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164241] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164241] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164241] lock code is 939ca730-f8e7-497e-825c-a6592b53acc8
[TRACE] [20220506-164241] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164241] subcommand is next - bouncing back
[DEBUG] [20220506-164241] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164241] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164241] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164241] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164241] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164241] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11726] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::set_rkey("last-datestring","11726") sqlite
[DEBUG] [SIM-11726] current datestring 11726, last_datestring 11725
[TRACE] [SIM-11726] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11726] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11726] *** OOB::periodic_process("../share/doc/example-channel/periodic",11725,11726)
[DEBUG] [SIM-11726] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11726] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11726] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11726]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11726] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11726] .. '10700' >= '11726' ?
[TRACE] [SIM-11726] .. '11700' >= '11726' ?
[DEBUG] [SIM-11726] this call is in timeslot 11700
[TRACE] [SIM-11726] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11726]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11726] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11726] .. '10700' > '11700' ?
[TRACE] [SIM-11726] .. '11700' > '11700' ?
[TRACE] [SIM-11726] .. '13100' > '11700' ?
[DEBUG] [SIM-11726] next timeslot is 13100
[DEBUG] [SIM-11726] 814 minutes until next schedule
[TRACE] [SIM-11726] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11726] previous call was in timeslot 11700
[TRACE] [SIM-11726] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11726] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11725,11726)
[DEBUG] [SIM-11726] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11726] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11726] still in same timeslot, using existing history
[TRACE] [SIM-11726] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11726] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11726] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11726] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11726]     existing list 1 lines
[DEBUG] [SIM-11726] 1 items in timeslot-dir-history
[TRACE] [SIM-11726] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55d05a5c98f8),ARRAY(0x55d05a5c98c8)) sqlite
[TRACE] [SIM-11726]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11726]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11726] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11726]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11726] Using existing history
[TRACE] [SIM-11726] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11726]     existing list 1 lines
[DEBUG] [SIM-11726] history has 1 entry(ies)
[TRACE] [SIM-11726] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11726] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11726] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11726] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11726] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11726]     candidate track 0: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:92, L:222, W:0
[DEBUG] [SIM-11726] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11726] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11726] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11726] *** Operation::process_any_active
[TRACE] [SIM-11726] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11726] timeslot has a random directory, telling Random module
[TRACE] [SIM-11726] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11726] Spinner for random is 73 out of 100, random_percent is 42
[TRACE] [SIM-11726] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11726] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11726] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11726] count: 92 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11726] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11726] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11726] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55d05af98380)) sqlite
[TRACE] [SIM-11726] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11726] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11726] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11726] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11729: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164241] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164241] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164241] lock code is ee58e39f-f8a7-4ec1-a629-55e434e5e12d
[TRACE] [20220506-164241] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164241] subcommand is next - bouncing back
[DEBUG] [20220506-164241] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164241] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164241] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164241] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164241] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164241] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11729] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::set_rkey("last-datestring","11729") sqlite
[DEBUG] [SIM-11729] current datestring 11729, last_datestring 11726
[TRACE] [SIM-11729] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11729] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11729] *** OOB::periodic_process("../share/doc/example-channel/periodic",11726,11729)
[DEBUG] [SIM-11729] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-3","13") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-5","6") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-6","1") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-12","13") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11729] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11729]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11729] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11729] .. '10700' >= '11729' ?
[TRACE] [SIM-11729] .. '11700' >= '11729' ?
[DEBUG] [SIM-11729] this call is in timeslot 11700
[TRACE] [SIM-11729] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11729]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11729] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11729] .. '10700' > '11700' ?
[TRACE] [SIM-11729] .. '11700' > '11700' ?
[TRACE] [SIM-11729] .. '13100' > '11700' ?
[DEBUG] [SIM-11729] next timeslot is 13100
[DEBUG] [SIM-11729] 811 minutes until next schedule
[TRACE] [SIM-11729] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11729] previous call was in timeslot 11700
[TRACE] [SIM-11729] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11729] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11726,11729)
[DEBUG] [SIM-11729] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-3","14") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-5","7") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-6","2") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11729] *** DataMoving::set_rkey("interval-rr-counter-12","14") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11729] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11729] still in same timeslot, using existing history
[TRACE] [SIM-11729] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11729] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11729] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11729] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11729]     existing list 1 lines
[DEBUG] [SIM-11729] 1 items in timeslot-dir-history
[TRACE] [SIM-11729] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55e9fce278f8),ARRAY(0x55e9fce278c8)) sqlite
[TRACE] [SIM-11729]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11729]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11729] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11729]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11729] Using existing history
[TRACE] [SIM-11729] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11729]     existing list 2 lines
[DEBUG] [SIM-11729] history has 2 entry(ies)
[TRACE] [SIM-11729] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11729] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11729] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11729] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11729] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11729] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11729] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11729] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11729] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11729]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:93, L:79, W:0
[TRACE] [SIM-11729] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11729] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11729]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:93, L:222, W:0
[DEBUG] [SIM-11729] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11729] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11729] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11729] *** Operation::process_any_active
[TRACE] [SIM-11729] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11729] timeslot has a random directory, telling Random module
[TRACE] [SIM-11729] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11729] Spinner for random is 44 out of 100, random_percent is 42
[TRACE] [SIM-11729] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11729] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11729] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11729] count: 93 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11729] count: 93 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11729] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11729] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11729] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55e9fd7f7528)) sqlite
[TRACE] [SIM-11729] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11729] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11729] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11729] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11732: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164242] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164242] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164242] lock code is f3af95d3-bec8-4d31-9d27-8c3e972274ae
[TRACE] [20220506-164242] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164242] subcommand is next - bouncing back
[DEBUG] [20220506-164242] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164242] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164242] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164242] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164242] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164242] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11732] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::set_rkey("last-datestring","11732") sqlite
[DEBUG] [SIM-11732] current datestring 11732, last_datestring 11729
[TRACE] [SIM-11732] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11732] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11732] *** OOB::periodic_process("../share/doc/example-channel/periodic",11729,11732)
[DEBUG] [SIM-11732] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11732] *** DataMoving::set_rkey("interval-rr-counter-2","11") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11732] *** DataMoving::set_rkey("interval-rr-counter-3","15") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11732] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11732]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11732] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11732] .. '10700' >= '11732' ?
[TRACE] [SIM-11732] .. '11700' >= '11732' ?
[DEBUG] [SIM-11732] this call is in timeslot 11700
[TRACE] [SIM-11732] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11732]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11732] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11732] .. '10700' > '11700' ?
[TRACE] [SIM-11732] .. '11700' > '11700' ?
[TRACE] [SIM-11732] .. '13100' > '11700' ?
[DEBUG] [SIM-11732] next timeslot is 13100
[DEBUG] [SIM-11732] 808 minutes until next schedule
[TRACE] [SIM-11732] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11732] previous call was in timeslot 11700
[TRACE] [SIM-11732] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11732] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11729,11732)
[DEBUG] [SIM-11732] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11732] *** DataMoving::set_rkey("interval-rr-counter-2","12") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11732] *** DataMoving::set_rkey("interval-rr-counter-3","16") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11732] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11732] still in same timeslot, using existing history
[TRACE] [SIM-11732] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11732] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11732] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11732] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11732]     existing list 1 lines
[DEBUG] [SIM-11732] 1 items in timeslot-dir-history
[TRACE] [SIM-11732] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x559d061d0a38),ARRAY(0x559d061d0a08)) sqlite
[TRACE] [SIM-11732]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11732]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11732] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11732]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11732] Using existing history
[TRACE] [SIM-11732] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11732]     existing list 1 lines
[DEBUG] [SIM-11732] history has 1 entry(ies)
[TRACE] [SIM-11732] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11732] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11732] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11732]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:93, L:79, W:0
[TRACE] [SIM-11732] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11732] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11732] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11732] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11732] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11732] *** Operation::process_any_active
[TRACE] [SIM-11732] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11732] timeslot has a random directory, telling Random module
[TRACE] [SIM-11732] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11732] Spinner for random is 84 out of 100, random_percent is 42
[TRACE] [SIM-11732] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11732] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11732] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11732] count: 93 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11732] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11732] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11732] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x559d06b9f918)) sqlite
[TRACE] [SIM-11732] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11732] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11732] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11732] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11733: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164242] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164242] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164242] lock code is 3e026a0a-6401-4a71-9b98-7321d1e5cf6a
[TRACE] [20220506-164242] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164242] subcommand is next - bouncing back
[DEBUG] [20220506-164242] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164242] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164242] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164242] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164242] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164242] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11733] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::set_rkey("last-datestring","11733") sqlite
[DEBUG] [SIM-11733] current datestring 11733, last_datestring 11732
[TRACE] [SIM-11733] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11733] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11733] *** OOB::periodic_process("../share/doc/example-channel/periodic",11732,11733)
[DEBUG] [SIM-11733] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-2","13") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-3","1") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-5","8") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-6","3") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-10","1") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-15","3") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-30","11") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11733] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11733]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11733] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11733] .. '10700' >= '11733' ?
[TRACE] [SIM-11733] .. '11700' >= '11733' ?
[DEBUG] [SIM-11733] this call is in timeslot 11700
[TRACE] [SIM-11733] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11733]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11733] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11733] .. '10700' > '11700' ?
[TRACE] [SIM-11733] .. '11700' > '11700' ?
[TRACE] [SIM-11733] .. '13100' > '11700' ?
[DEBUG] [SIM-11733] next timeslot is 13100
[DEBUG] [SIM-11733] 807 minutes until next schedule
[TRACE] [SIM-11733] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11733] previous call was in timeslot 11700
[TRACE] [SIM-11733] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11733] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11732,11733)
[DEBUG] [SIM-11733] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-2","14") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-3","2") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-5","9") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-6","4") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-10","2") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-15","4") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11733] *** DataMoving::set_rkey("interval-rr-counter-30","12") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11733] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11733] still in same timeslot, using existing history
[TRACE] [SIM-11733] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11733] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11733] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11733] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11733]     existing list 1 lines
[DEBUG] [SIM-11733] 1 items in timeslot-dir-history
[TRACE] [SIM-11733] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55f56784ea38),ARRAY(0x55f56784ea08)) sqlite
[TRACE] [SIM-11733]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11733]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11733] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11733]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11733] Using existing history
[TRACE] [SIM-11733] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11733]     existing list 2 lines
[DEBUG] [SIM-11733] history has 2 entry(ies)
[TRACE] [SIM-11733] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11733] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11733] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11733] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11733] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11733] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11733] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11733] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11733] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11733]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:94, L:79, W:0
[TRACE] [SIM-11733] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11733] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11733]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:94, L:222, W:0
[DEBUG] [SIM-11733] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11733] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11733] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11733] *** Operation::process_any_active
[TRACE] [SIM-11733] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11733] timeslot has a random directory, telling Random module
[TRACE] [SIM-11733] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11733] Spinner for random is 17 out of 100, random_percent is 42
[DEBUG] [SIM-11733] Hit for random, selecting and playing random track
[TRACE] [SIM-11733] *** Random::get_random_track("ARRAY(0x55f56784ea68)",807,)
[TRACE] [SIM-11733]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11733]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11733]     No tracks left in "ARRAY(0x55f56784ea68)" after checking history
[DEBUG] [SIM-11733] Random::get_random_track could not select a track
[DEBUG] [SIM-11733] Proceeding with normal flow
[TRACE] [SIM-11733] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11733] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11733] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11733] count: 94 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11733] count: 94 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11733] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11733] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11733] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55f56821e9c8)) sqlite
[TRACE] [SIM-11733] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11733] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11733] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11733] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11736: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164242] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164242] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164242] lock code is 6c4805a1-571d-406c-a1fa-65c657ae0d08
[TRACE] [20220506-164242] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164242] subcommand is next - bouncing back
[DEBUG] [20220506-164242] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164242] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164242] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164242] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164242] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164242] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11736] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::set_rkey("last-datestring","11736") sqlite
[DEBUG] [SIM-11736] current datestring 11736, last_datestring 11733
[TRACE] [SIM-11736] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11736] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11736] *** OOB::periodic_process("../share/doc/example-channel/periodic",11733,11736)
[DEBUG] [SIM-11736] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11736] *** DataMoving::set_rkey("interval-rr-counter-2","15") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11736] *** DataMoving::set_rkey("interval-rr-counter-3","3") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11736] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11736]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11736] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11736] .. '10700' >= '11736' ?
[TRACE] [SIM-11736] .. '11700' >= '11736' ?
[DEBUG] [SIM-11736] this call is in timeslot 11700
[TRACE] [SIM-11736] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11736]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11736] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11736] .. '10700' > '11700' ?
[TRACE] [SIM-11736] .. '11700' > '11700' ?
[TRACE] [SIM-11736] .. '13100' > '11700' ?
[DEBUG] [SIM-11736] next timeslot is 13100
[DEBUG] [SIM-11736] 804 minutes until next schedule
[TRACE] [SIM-11736] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11736] previous call was in timeslot 11700
[TRACE] [SIM-11736] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11736] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11733,11736)
[DEBUG] [SIM-11736] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11736] *** DataMoving::set_rkey("interval-rr-counter-2","16") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11736] *** DataMoving::set_rkey("interval-rr-counter-3","4") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11736] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11736] still in same timeslot, using existing history
[TRACE] [SIM-11736] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11736] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11736] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11736] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11736]     existing list 1 lines
[DEBUG] [SIM-11736] 1 items in timeslot-dir-history
[TRACE] [SIM-11736] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55e6feb0ca38),ARRAY(0x55e6feb0ca08)) sqlite
[TRACE] [SIM-11736]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11736]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11736] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11736]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11736] Using existing history
[TRACE] [SIM-11736] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11736]     existing list 1 lines
[DEBUG] [SIM-11736] history has 1 entry(ies)
[TRACE] [SIM-11736] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11736] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11736] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11736]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:94, L:79, W:0
[TRACE] [SIM-11736] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11736] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11736] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11736] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11736] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11736] *** Operation::process_any_active
[TRACE] [SIM-11736] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11736] timeslot has a random directory, telling Random module
[TRACE] [SIM-11736] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11736] Spinner for random is 8 out of 100, random_percent is 42
[DEBUG] [SIM-11736] Hit for random, selecting and playing random track
[TRACE] [SIM-11736] *** Random::get_random_track("ARRAY(0x55e6feb0ca68)",804,)
[TRACE] [SIM-11736]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11736]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11736]     No tracks left in "ARRAY(0x55e6feb0ca68)" after checking history
[DEBUG] [SIM-11736] Random::get_random_track could not select a track
[DEBUG] [SIM-11736] Proceeding with normal flow
[TRACE] [SIM-11736] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11736] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11736] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11736] count: 94 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11736] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11736] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11736] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55e6ff4dd7b8)) sqlite
[TRACE] [SIM-11736] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11736] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11736] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11736] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11737: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164242] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164242] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164242] lock code is eaf69570-005b-4331-8917-c2b980e2c091
[TRACE] [20220506-164242] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164242] subcommand is next - bouncing back
[DEBUG] [20220506-164242] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164242] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164242] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164242] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164242] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164242] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11737] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::set_rkey("last-datestring","11737") sqlite
[DEBUG] [SIM-11737] current datestring 11737, last_datestring 11736
[TRACE] [SIM-11737] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11737] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11737] *** OOB::periodic_process("../share/doc/example-channel/periodic",11736,11737)
[DEBUG] [SIM-11737] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11737] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11737] *** DataMoving::set_rkey("interval-rr-counter-2","1") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11737] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11737] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11737]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11737] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11737] .. '10700' >= '11737' ?
[TRACE] [SIM-11737] .. '11700' >= '11737' ?
[DEBUG] [SIM-11737] this call is in timeslot 11700
[TRACE] [SIM-11737] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11737]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11737] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11737] .. '10700' > '11700' ?
[TRACE] [SIM-11737] .. '11700' > '11700' ?
[TRACE] [SIM-11737] .. '13100' > '11700' ?
[DEBUG] [SIM-11737] next timeslot is 13100
[DEBUG] [SIM-11737] 803 minutes until next schedule
[TRACE] [SIM-11737] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11737] previous call was in timeslot 11700
[TRACE] [SIM-11737] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11737] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11736,11737)
[DEBUG] [SIM-11737] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11737] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11737] *** DataMoving::set_rkey("interval-rr-counter-2","2") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11737] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11737] still in same timeslot, using existing history
[TRACE] [SIM-11737] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11737] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11737] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11737] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11737]     existing list 1 lines
[DEBUG] [SIM-11737] 1 items in timeslot-dir-history
[TRACE] [SIM-11737] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55c7f10aaa38),ARRAY(0x55c7f10aaa08)) sqlite
[TRACE] [SIM-11737]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11737]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11737] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11737]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11737] Using existing history
[TRACE] [SIM-11737] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11737]     existing list 2 lines
[DEBUG] [SIM-11737] history has 2 entry(ies)
[TRACE] [SIM-11737] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11737] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11737] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11737] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11737] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11737] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11737] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11737] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11737] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11737]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:95, L:79, W:0
[TRACE] [SIM-11737] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11737] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11737]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:95, L:222, W:0
[DEBUG] [SIM-11737] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11737] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11737] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11737] *** Operation::process_any_active
[TRACE] [SIM-11737] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11737] timeslot has a random directory, telling Random module
[TRACE] [SIM-11737] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11737] Spinner for random is 90 out of 100, random_percent is 42
[TRACE] [SIM-11737] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11737] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11737] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11737] count: 95 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11737] count: 95 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11737] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11737] selected track 2: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11737] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55c7f1a78588)) sqlite
[TRACE] [SIM-11737] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11737] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11737] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11737] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11738: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164243] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164243] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164243] lock code is f7260fe9-1980-4073-9096-27e76007431d
[TRACE] [20220506-164243] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164243] subcommand is next - bouncing back
[DEBUG] [20220506-164243] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164243] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164243] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164243] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164243] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164243] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11738] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::set_rkey("last-datestring","11738") sqlite
[DEBUG] [SIM-11738] current datestring 11738, last_datestring 11737
[TRACE] [SIM-11738] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11738] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11738] *** OOB::periodic_process("../share/doc/example-channel/periodic",11737,11738)
[DEBUG] [SIM-11738] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11738] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11738] *** DataMoving::set_rkey("interval-rr-counter-5","10") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11738] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11738] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11738]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11738] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11738] .. '10700' >= '11738' ?
[TRACE] [SIM-11738] .. '11700' >= '11738' ?
[DEBUG] [SIM-11738] this call is in timeslot 11700
[TRACE] [SIM-11738] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11738]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11738] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11738] .. '10700' > '11700' ?
[TRACE] [SIM-11738] .. '11700' > '11700' ?
[TRACE] [SIM-11738] .. '13100' > '11700' ?
[DEBUG] [SIM-11738] next timeslot is 13100
[DEBUG] [SIM-11738] 802 minutes until next schedule
[TRACE] [SIM-11738] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11738] previous call was in timeslot 11700
[TRACE] [SIM-11738] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11738] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11737,11738)
[DEBUG] [SIM-11738] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11738] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11738] *** DataMoving::set_rkey("interval-rr-counter-5","11") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11738] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11738] still in same timeslot, using existing history
[TRACE] [SIM-11738] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11738] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11738] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11738] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11738]     existing list 1 lines
[DEBUG] [SIM-11738] 1 items in timeslot-dir-history
[TRACE] [SIM-11738] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5625c8de78f8),ARRAY(0x5625c8de78c8)) sqlite
[TRACE] [SIM-11738]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11738]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11738] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11738]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11738] Using existing history
[TRACE] [SIM-11738] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11738]     existing list 1 lines
[DEBUG] [SIM-11738] history has 1 entry(ies)
[TRACE] [SIM-11738] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11738] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11738] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11738] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11738] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11738]     candidate track 0: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:95, L:222, W:0
[DEBUG] [SIM-11738] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11738] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11738] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11738] *** Operation::process_any_active
[TRACE] [SIM-11738] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11738] timeslot has a random directory, telling Random module
[TRACE] [SIM-11738] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11738] Spinner for random is 58 out of 100, random_percent is 42
[TRACE] [SIM-11738] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11738] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11738] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11738] count: 95 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11738] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11738] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11738] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x5625c97b6db0)) sqlite
[TRACE] [SIM-11738] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11738] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11738] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11738] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11741: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164243] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164243] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164243] lock code is 1aeb969c-0585-4daf-aeb5-31c350d46aa5
[TRACE] [20220506-164243] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164243] subcommand is next - bouncing back
[DEBUG] [20220506-164243] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164243] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164243] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164243] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164243] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164243] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11741] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::set_rkey("last-datestring","11741") sqlite
[DEBUG] [SIM-11741] current datestring 11741, last_datestring 11738
[TRACE] [SIM-11741] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11741] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11741] *** OOB::periodic_process("../share/doc/example-channel/periodic",11738,11741)
[DEBUG] [SIM-11741] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-3","5") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-6","5") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-12","15") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11741] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11741]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11741] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11741] .. '10700' >= '11741' ?
[TRACE] [SIM-11741] .. '11700' >= '11741' ?
[DEBUG] [SIM-11741] this call is in timeslot 11700
[TRACE] [SIM-11741] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11741]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11741] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11741] .. '10700' > '11700' ?
[TRACE] [SIM-11741] .. '11700' > '11700' ?
[TRACE] [SIM-11741] .. '13100' > '11700' ?
[DEBUG] [SIM-11741] next timeslot is 13100
[DEBUG] [SIM-11741] 799 minutes until next schedule
[TRACE] [SIM-11741] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11741] previous call was in timeslot 11700
[TRACE] [SIM-11741] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11741] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11738,11741)
[DEBUG] [SIM-11741] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-3","6") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-6","6") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11741] *** DataMoving::set_rkey("interval-rr-counter-12","16") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11741] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11741] still in same timeslot, using existing history
[TRACE] [SIM-11741] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11741] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11741] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11741] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11741]     existing list 1 lines
[DEBUG] [SIM-11741] 1 items in timeslot-dir-history
[TRACE] [SIM-11741] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5590567a2978),ARRAY(0x5590567a2948)) sqlite
[TRACE] [SIM-11741]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11741]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11741] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11741]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11741] Using existing history
[TRACE] [SIM-11741] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11741]     existing list 2 lines
[DEBUG] [SIM-11741] history has 2 entry(ies)
[TRACE] [SIM-11741] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11741] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11741] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11741] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11741] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11741] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11741] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11741] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11741] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11741]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:96, L:79, W:0
[TRACE] [SIM-11741] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11741] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11741]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:96, L:222, W:0
[DEBUG] [SIM-11741] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11741] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11741] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11741] *** Operation::process_any_active
[TRACE] [SIM-11741] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11741] timeslot has a random directory, telling Random module
[TRACE] [SIM-11741] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11741] Spinner for random is 84 out of 100, random_percent is 42
[TRACE] [SIM-11741] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11741] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11741] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11741] count: 96 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11741] count: 96 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11741] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11741] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11741] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x559057170548)) sqlite
[TRACE] [SIM-11741] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11741] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11741] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11741] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11744: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164243] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164243] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164243] lock code is 93322c35-3ee2-4e76-a62a-85e1812863dd
[TRACE] [20220506-164243] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164243] subcommand is next - bouncing back
[DEBUG] [20220506-164243] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164243] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164243] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164243] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164243] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164243] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11744] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::set_rkey("last-datestring","11744") sqlite
[DEBUG] [SIM-11744] current datestring 11744, last_datestring 11741
[TRACE] [SIM-11744] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11744] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11744] *** OOB::periodic_process("../share/doc/example-channel/periodic",11741,11744)
[DEBUG] [SIM-11744] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-2","3") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-3","7") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-5","12") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-10","3") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11744]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11744] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-20","15") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11744] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11744]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11744] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11744] .. '10700' >= '11744' ?
[TRACE] [SIM-11744] .. '11700' >= '11744' ?
[DEBUG] [SIM-11744] this call is in timeslot 11700
[TRACE] [SIM-11744] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11744]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11744] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11744] .. '10700' > '11700' ?
[TRACE] [SIM-11744] .. '11700' > '11700' ?
[TRACE] [SIM-11744] .. '13100' > '11700' ?
[DEBUG] [SIM-11744] next timeslot is 13100
[DEBUG] [SIM-11744] 796 minutes until next schedule
[TRACE] [SIM-11744] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11744] previous call was in timeslot 11700
[TRACE] [SIM-11744] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11744] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11741,11744)
[DEBUG] [SIM-11744] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-2","4") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-3","8") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-5","13") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-10","4") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11744]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11744] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11744] *** DataMoving::set_rkey("interval-rr-counter-20","16") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11744] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11744] still in same timeslot, using existing history
[TRACE] [SIM-11744] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11744] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11744] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11744] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11744] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11744] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11744]     existing list 1 lines
[DEBUG] [SIM-11744] 1 items in timeslot-dir-history
[TRACE] [SIM-11744] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x559c671158f8),ARRAY(0x559c671158c8)) sqlite
[TRACE] [SIM-11744]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11744]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11744] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11744]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11744] Using existing history
[TRACE] [SIM-11744] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11744]     existing list 1 lines
[DEBUG] [SIM-11744] history has 1 entry(ies)
[TRACE] [SIM-11744] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11744] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11744] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11744]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:96, L:79, W:0
[TRACE] [SIM-11744] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11744] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11744] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11744] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11744] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11744] *** Operation::process_any_active
[TRACE] [SIM-11744] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11744] timeslot has a random directory, telling Random module
[TRACE] [SIM-11744] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11744] Spinner for random is 8 out of 100, random_percent is 42
[DEBUG] [SIM-11744] Hit for random, selecting and playing random track
[TRACE] [SIM-11744] *** Random::get_random_track("ARRAY(0x559c67115928)",796,)
[TRACE] [SIM-11744]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11744]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11744]     No tracks left in "ARRAY(0x559c67115928)" after checking history
[DEBUG] [SIM-11744] Random::get_random_track could not select a track
[DEBUG] [SIM-11744] Proceeding with normal flow
[TRACE] [SIM-11744] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11744] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11744] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11744] count: 96 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11744] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11744] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11744] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x559c67ae5728)) sqlite
[TRACE] [SIM-11744] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11744] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11744] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11744] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11745: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164243] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164243] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164243] lock code is 622fb1ce-0b06-4319-8b56-5dd6ea646bf4
[TRACE] [20220506-164243] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164243] subcommand is next - bouncing back
[DEBUG] [20220506-164243] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164243] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164243] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164243] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164243] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164243] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11745] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::set_rkey("last-datestring","11745") sqlite
[DEBUG] [SIM-11745] current datestring 11745, last_datestring 11744
[TRACE] [SIM-11745] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11745] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11745] *** OOB::periodic_process("../share/doc/example-channel/periodic",11744,11745)
[DEBUG] [SIM-11745] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-2","5") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-3","9") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-6","7") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11745] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11745]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11745] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11745] .. '10700' >= '11745' ?
[TRACE] [SIM-11745] .. '11700' >= '11745' ?
[DEBUG] [SIM-11745] this call is in timeslot 11700
[TRACE] [SIM-11745] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11745]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11745] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11745] .. '10700' > '11700' ?
[TRACE] [SIM-11745] .. '11700' > '11700' ?
[TRACE] [SIM-11745] .. '13100' > '11700' ?
[DEBUG] [SIM-11745] next timeslot is 13100
[DEBUG] [SIM-11745] 795 minutes until next schedule
[TRACE] [SIM-11745] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11745] previous call was in timeslot 11700
[TRACE] [SIM-11745] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11745] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11744,11745)
[DEBUG] [SIM-11745] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-2","6") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-3","10") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11745] *** DataMoving::set_rkey("interval-rr-counter-6","8") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11745] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11745] still in same timeslot, using existing history
[TRACE] [SIM-11745] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11745] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11745] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11745] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11745]     existing list 1 lines
[DEBUG] [SIM-11745] 1 items in timeslot-dir-history
[TRACE] [SIM-11745] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55e904968978),ARRAY(0x55e904968948)) sqlite
[TRACE] [SIM-11745]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11745]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11745] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11745]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11745] Using existing history
[TRACE] [SIM-11745] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11745]     existing list 2 lines
[DEBUG] [SIM-11745] history has 2 entry(ies)
[TRACE] [SIM-11745] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11745] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11745] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11745] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11745] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11745] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11745] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11745] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11745] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11745]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:97, L:79, W:0
[TRACE] [SIM-11745] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11745] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11745]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:97, L:222, W:0
[DEBUG] [SIM-11745] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11745] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11745] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11745] *** Operation::process_any_active
[TRACE] [SIM-11745] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11745] timeslot has a random directory, telling Random module
[TRACE] [SIM-11745] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11745] Spinner for random is 38 out of 100, random_percent is 42
[DEBUG] [SIM-11745] Hit for random, selecting and playing random track
[TRACE] [SIM-11745] *** Random::get_random_track("ARRAY(0x55e9049689a8)",795,)
[TRACE] [SIM-11745]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11745]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11745]     No tracks left in "ARRAY(0x55e9049689a8)" after checking history
[DEBUG] [SIM-11745] Random::get_random_track could not select a track
[DEBUG] [SIM-11745] Proceeding with normal flow
[TRACE] [SIM-11745] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11745] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11745] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11745] count: 97 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11745] count: 97 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11745] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11745] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11745] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55e905336718)) sqlite
[TRACE] [SIM-11745] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11745] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11745] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11745] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11748: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164244] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164244] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164244] lock code is e50e3e78-86ad-4768-bcc5-5a5c7f5c97ee
[TRACE] [20220506-164244] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164244] subcommand is next - bouncing back
[DEBUG] [20220506-164244] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164244] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164244] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164244] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164244] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164244] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11748] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::set_rkey("last-datestring","11748") sqlite
[DEBUG] [SIM-11748] current datestring 11748, last_datestring 11745
[TRACE] [SIM-11748] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11748] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11748] *** OOB::periodic_process("../share/doc/example-channel/periodic",11745,11748)
[DEBUG] [SIM-11748] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-2","7") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-3","11") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-5","14") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-15","5") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11748] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11748]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11748] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11748] .. '10700' >= '11748' ?
[TRACE] [SIM-11748] .. '11700' >= '11748' ?
[DEBUG] [SIM-11748] this call is in timeslot 11700
[TRACE] [SIM-11748] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11748]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11748] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11748] .. '10700' > '11700' ?
[TRACE] [SIM-11748] .. '11700' > '11700' ?
[TRACE] [SIM-11748] .. '13100' > '11700' ?
[DEBUG] [SIM-11748] next timeslot is 13100
[DEBUG] [SIM-11748] 792 minutes until next schedule
[TRACE] [SIM-11748] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11748] previous call was in timeslot 11700
[TRACE] [SIM-11748] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11748] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11745,11748)
[DEBUG] [SIM-11748] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-2","8") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-3","12") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-5","15") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11748] *** DataMoving::set_rkey("interval-rr-counter-15","6") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11748] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11748] still in same timeslot, using existing history
[TRACE] [SIM-11748] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11748] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11748] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11748] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11748]     existing list 1 lines
[DEBUG] [SIM-11748] 1 items in timeslot-dir-history
[TRACE] [SIM-11748] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x562b02338a38),ARRAY(0x562b02338a08)) sqlite
[TRACE] [SIM-11748]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11748]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11748] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11748]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11748] Using existing history
[TRACE] [SIM-11748] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11748]     existing list 1 lines
[DEBUG] [SIM-11748] history has 1 entry(ies)
[TRACE] [SIM-11748] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11748] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11748] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11748]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:97, L:79, W:0
[TRACE] [SIM-11748] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11748] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11748] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11748] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11748] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11748] *** Operation::process_any_active
[TRACE] [SIM-11748] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11748] timeslot has a random directory, telling Random module
[TRACE] [SIM-11748] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11748] Spinner for random is 19 out of 100, random_percent is 42
[DEBUG] [SIM-11748] Hit for random, selecting and playing random track
[TRACE] [SIM-11748] *** Random::get_random_track("ARRAY(0x562b02338a68)",792,)
[TRACE] [SIM-11748]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11748]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11748]     No tracks left in "ARRAY(0x562b02338a68)" after checking history
[DEBUG] [SIM-11748] Random::get_random_track could not select a track
[DEBUG] [SIM-11748] Proceeding with normal flow
[TRACE] [SIM-11748] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11748] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11748] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11748] count: 97 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11748] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11748] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11748] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x562b02d06e88)) sqlite
[TRACE] [SIM-11748] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11748] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11748] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11748] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11749: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164244] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164244] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164244] lock code is efd5fc64-9d6b-4678-8b57-b55b9755aeb4
[TRACE] [20220506-164244] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164244] subcommand is next - bouncing back
[DEBUG] [20220506-164244] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164244] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164244] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164244] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164244] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164244] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11749] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::set_rkey("last-datestring","11749") sqlite
[DEBUG] [SIM-11749] current datestring 11749, last_datestring 11748
[TRACE] [SIM-11749] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11749] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11749] *** OOB::periodic_process("../share/doc/example-channel/periodic",11748,11749)
[DEBUG] [SIM-11749] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11749] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11749] *** DataMoving::set_rkey("interval-rr-counter-2","9") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11749] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11749] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11749]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11749] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11749] .. '10700' >= '11749' ?
[TRACE] [SIM-11749] .. '11700' >= '11749' ?
[DEBUG] [SIM-11749] this call is in timeslot 11700
[TRACE] [SIM-11749] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11749]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11749] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11749] .. '10700' > '11700' ?
[TRACE] [SIM-11749] .. '11700' > '11700' ?
[TRACE] [SIM-11749] .. '13100' > '11700' ?
[DEBUG] [SIM-11749] next timeslot is 13100
[DEBUG] [SIM-11749] 791 minutes until next schedule
[TRACE] [SIM-11749] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11749] previous call was in timeslot 11700
[TRACE] [SIM-11749] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11749] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11748,11749)
[DEBUG] [SIM-11749] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11749] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11749] *** DataMoving::set_rkey("interval-rr-counter-2","10") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11749] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11749] still in same timeslot, using existing history
[TRACE] [SIM-11749] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11749] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11749] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11749] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11749]     existing list 1 lines
[DEBUG] [SIM-11749] 1 items in timeslot-dir-history
[TRACE] [SIM-11749] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55fb51b808f8),ARRAY(0x55fb51b808c8)) sqlite
[TRACE] [SIM-11749]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11749]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11749] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11749]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11749] Using existing history
[TRACE] [SIM-11749] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11749]     existing list 2 lines
[DEBUG] [SIM-11749] history has 2 entry(ies)
[TRACE] [SIM-11749] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11749] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11749] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11749] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11749] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11749] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11749] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11749] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11749] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11749]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:98, L:79, W:0
[TRACE] [SIM-11749] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11749] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11749]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:98, L:222, W:0
[DEBUG] [SIM-11749] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11749] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11749] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11749] *** Operation::process_any_active
[TRACE] [SIM-11749] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11749] timeslot has a random directory, telling Random module
[TRACE] [SIM-11749] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11749] Spinner for random is 40 out of 100, random_percent is 42
[DEBUG] [SIM-11749] Hit for random, selecting and playing random track
[TRACE] [SIM-11749] *** Random::get_random_track("ARRAY(0x55fb51b80928)",791,)
[TRACE] [SIM-11749]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11749]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11749]     No tracks left in "ARRAY(0x55fb51b80928)" after checking history
[DEBUG] [SIM-11749] Random::get_random_track could not select a track
[DEBUG] [SIM-11749] Proceeding with normal flow
[TRACE] [SIM-11749] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11749] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11749] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11749] count: 98 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11749] count: 98 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11749] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11749] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11749] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55fb5254fa18)) sqlite
[TRACE] [SIM-11749] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11749] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11749] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11749] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11752: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164244] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164244] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164244] lock code is be9e6d20-6c22-4726-8e11-0f2974c24cd4
[TRACE] [20220506-164244] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164244] subcommand is next - bouncing back
[DEBUG] [20220506-164244] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164244] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164244] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164244] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164244] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164244] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11752] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::set_rkey("last-datestring","11752") sqlite
[DEBUG] [SIM-11752] current datestring 11752, last_datestring 11749
[TRACE] [SIM-11752] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11752] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11752] *** OOB::periodic_process("../share/doc/example-channel/periodic",11749,11752)
[DEBUG] [SIM-11752] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-2","11") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-3","13") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-6","9") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-12","1") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11752] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11752]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11752] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11752] .. '10700' >= '11752' ?
[TRACE] [SIM-11752] .. '11700' >= '11752' ?
[DEBUG] [SIM-11752] this call is in timeslot 11700
[TRACE] [SIM-11752] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11752]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11752] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11752] .. '10700' > '11700' ?
[TRACE] [SIM-11752] .. '11700' > '11700' ?
[TRACE] [SIM-11752] .. '13100' > '11700' ?
[DEBUG] [SIM-11752] next timeslot is 13100
[DEBUG] [SIM-11752] 788 minutes until next schedule
[TRACE] [SIM-11752] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11752] previous call was in timeslot 11700
[TRACE] [SIM-11752] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11752] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11749,11752)
[DEBUG] [SIM-11752] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-2","12") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-3","14") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-6","10") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11752] *** DataMoving::set_rkey("interval-rr-counter-12","2") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11752] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11752] still in same timeslot, using existing history
[TRACE] [SIM-11752] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11752] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11752] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11752] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11752]     existing list 1 lines
[DEBUG] [SIM-11752] 1 items in timeslot-dir-history
[TRACE] [SIM-11752] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x56447cb3ea38),ARRAY(0x56447cb3ea08)) sqlite
[TRACE] [SIM-11752]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11752]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11752] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11752]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11752] Using existing history
[TRACE] [SIM-11752] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11752]     existing list 1 lines
[DEBUG] [SIM-11752] history has 1 entry(ies)
[TRACE] [SIM-11752] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11752] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11752] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11752]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:98, L:79, W:0
[TRACE] [SIM-11752] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11752] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11752] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11752] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11752] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11752] *** Operation::process_any_active
[TRACE] [SIM-11752] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11752] timeslot has a random directory, telling Random module
[TRACE] [SIM-11752] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11752] Spinner for random is 60 out of 100, random_percent is 42
[TRACE] [SIM-11752] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11752] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11752] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11752] count: 98 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11752] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11752] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11752] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x56447d50df78)) sqlite
[TRACE] [SIM-11752] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11752] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11752] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11752] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11753: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164244] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164244] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164244] lock code is 1816595a-39cb-4f9b-91d0-010f9538d009
[TRACE] [20220506-164244] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164244] subcommand is next - bouncing back
[DEBUG] [20220506-164244] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164244] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164244] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164244] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164244] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164244] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11753] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::set_rkey("last-datestring","11753") sqlite
[DEBUG] [SIM-11753] current datestring 11753, last_datestring 11752
[TRACE] [SIM-11753] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11753] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11753] *** OOB::periodic_process("../share/doc/example-channel/periodic",11752,11753)
[DEBUG] [SIM-11753] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-2","13") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-5","16") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-10","5") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11753] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11753]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11753] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11753] .. '10700' >= '11753' ?
[TRACE] [SIM-11753] .. '11700' >= '11753' ?
[DEBUG] [SIM-11753] this call is in timeslot 11700
[TRACE] [SIM-11753] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11753]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11753] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11753] .. '10700' > '11700' ?
[TRACE] [SIM-11753] .. '11700' > '11700' ?
[TRACE] [SIM-11753] .. '13100' > '11700' ?
[DEBUG] [SIM-11753] next timeslot is 13100
[DEBUG] [SIM-11753] 787 minutes until next schedule
[TRACE] [SIM-11753] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11753] previous call was in timeslot 11700
[TRACE] [SIM-11753] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11753] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11752,11753)
[DEBUG] [SIM-11753] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-2","14") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-5","1") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11753] *** DataMoving::set_rkey("interval-rr-counter-10","6") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11753] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11753] still in same timeslot, using existing history
[TRACE] [SIM-11753] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11753] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11753] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11753] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11753]     existing list 1 lines
[DEBUG] [SIM-11753] 1 items in timeslot-dir-history
[TRACE] [SIM-11753] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x56375d81e2d8),ARRAY(0x56375d81e2a8)) sqlite
[TRACE] [SIM-11753]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11753]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11753] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11753]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11753] Using existing history
[TRACE] [SIM-11753] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11753]     existing list 2 lines
[DEBUG] [SIM-11753] history has 2 entry(ies)
[TRACE] [SIM-11753] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11753] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11753] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11753] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11753] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11753] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11753] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11753] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11753] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11753]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:99, L:79, W:0
[TRACE] [SIM-11753] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11753] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11753]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:99, L:222, W:0
[DEBUG] [SIM-11753] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11753] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11753] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11753] *** Operation::process_any_active
[TRACE] [SIM-11753] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11753] timeslot has a random directory, telling Random module
[TRACE] [SIM-11753] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11753] Spinner for random is 51 out of 100, random_percent is 42
[TRACE] [SIM-11753] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11753] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11753] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11753] count: 99 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11753] count: 99 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11753] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11753] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11753] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x56375e1ed0a8)) sqlite
[TRACE] [SIM-11753] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11753] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11753] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11753] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11756: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164244] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164244] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164244] lock code is b488bc1b-2c4b-4ecf-aebc-5febb8f6f246
[TRACE] [20220506-164244] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164244] subcommand is next - bouncing back
[DEBUG] [20220506-164244] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164244] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164244] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164244] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164244] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164244] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11756] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::set_rkey("last-datestring","11756") sqlite
[DEBUG] [SIM-11756] current datestring 11756, last_datestring 11753
[TRACE] [SIM-11756] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11756] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11756] *** OOB::periodic_process("../share/doc/example-channel/periodic",11753,11756)
[DEBUG] [SIM-11756] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11756] *** DataMoving::set_rkey("interval-rr-counter-2","15") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11756] *** DataMoving::set_rkey("interval-rr-counter-3","15") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11756] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11756]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11756] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11756] .. '10700' >= '11756' ?
[TRACE] [SIM-11756] .. '11700' >= '11756' ?
[DEBUG] [SIM-11756] this call is in timeslot 11700
[TRACE] [SIM-11756] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11756]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11756] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11756] .. '10700' > '11700' ?
[TRACE] [SIM-11756] .. '11700' > '11700' ?
[TRACE] [SIM-11756] .. '13100' > '11700' ?
[DEBUG] [SIM-11756] next timeslot is 13100
[DEBUG] [SIM-11756] 784 minutes until next schedule
[TRACE] [SIM-11756] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11756] previous call was in timeslot 11700
[TRACE] [SIM-11756] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11756] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11753,11756)
[DEBUG] [SIM-11756] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11756] *** DataMoving::set_rkey("interval-rr-counter-2","16") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11756] *** DataMoving::set_rkey("interval-rr-counter-3","16") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11756] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11756] still in same timeslot, using existing history
[TRACE] [SIM-11756] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11756] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11756] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11756] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11756]     existing list 1 lines
[DEBUG] [SIM-11756] 1 items in timeslot-dir-history
[TRACE] [SIM-11756] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x560f5cd42198),ARRAY(0x560f5cd42168)) sqlite
[TRACE] [SIM-11756]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11756]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11756] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11756]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11756] Using existing history
[TRACE] [SIM-11756] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11756]     existing list 1 lines
[DEBUG] [SIM-11756] history has 1 entry(ies)
[TRACE] [SIM-11756] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11756] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11756] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11756]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:99, L:79, W:0
[TRACE] [SIM-11756] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11756] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11756] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11756] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11756] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11756] *** Operation::process_any_active
[TRACE] [SIM-11756] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11756] timeslot has a random directory, telling Random module
[TRACE] [SIM-11756] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11756] Spinner for random is 38 out of 100, random_percent is 42
[DEBUG] [SIM-11756] Hit for random, selecting and playing random track
[TRACE] [SIM-11756] *** Random::get_random_track("ARRAY(0x560f5cd421c8)",784,)
[TRACE] [SIM-11756]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11756]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11756]     No tracks left in "ARRAY(0x560f5cd421c8)" after checking history
[DEBUG] [SIM-11756] Random::get_random_track could not select a track
[DEBUG] [SIM-11756] Proceeding with normal flow
[TRACE] [SIM-11756] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11756] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11756] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11756] count: 99 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11756] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11756] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11756] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x560f5d710a08)) sqlite
[TRACE] [SIM-11756] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11756] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11756] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11756] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11757: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164245] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164245] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164245] lock code is 1e99cf92-d005-4933-b1d0-1207cafd3391
[TRACE] [20220506-164245] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164245] subcommand is next - bouncing back
[DEBUG] [20220506-164245] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164245] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164245] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164245] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164245] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164245] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11757] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::set_rkey("last-datestring","11757") sqlite
[DEBUG] [SIM-11757] current datestring 11757, last_datestring 11756
[TRACE] [SIM-11757] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11757] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11757] *** OOB::periodic_process("../share/doc/example-channel/periodic",11756,11757)
[DEBUG] [SIM-11757] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-2","1") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-3","1") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-6","11") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11757] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11757]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11757] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11757] .. '10700' >= '11757' ?
[TRACE] [SIM-11757] .. '11700' >= '11757' ?
[DEBUG] [SIM-11757] this call is in timeslot 11700
[TRACE] [SIM-11757] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11757]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11757] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11757] .. '10700' > '11700' ?
[TRACE] [SIM-11757] .. '11700' > '11700' ?
[TRACE] [SIM-11757] .. '13100' > '11700' ?
[DEBUG] [SIM-11757] next timeslot is 13100
[DEBUG] [SIM-11757] 783 minutes until next schedule
[TRACE] [SIM-11757] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11757] previous call was in timeslot 11700
[TRACE] [SIM-11757] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11757] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11756,11757)
[DEBUG] [SIM-11757] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-2","2") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-3","2") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11757] *** DataMoving::set_rkey("interval-rr-counter-6","12") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11757] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11757] still in same timeslot, using existing history
[TRACE] [SIM-11757] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11757] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11757] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11757] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11757]     existing list 1 lines
[DEBUG] [SIM-11757] 1 items in timeslot-dir-history
[TRACE] [SIM-11757] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5641c363da38),ARRAY(0x5641c363da08)) sqlite
[TRACE] [SIM-11757]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11757]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11757] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11757]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11757] Using existing history
[TRACE] [SIM-11757] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11757]     existing list 2 lines
[DEBUG] [SIM-11757] history has 2 entry(ies)
[TRACE] [SIM-11757] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11757] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11757] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11757] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11757] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11757] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11757] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11757] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11757] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11757]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:100, L:79, W:0
[TRACE] [SIM-11757] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11757] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11757]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:100, L:222, W:0
[DEBUG] [SIM-11757] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11757] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11757] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11757] *** Operation::process_any_active
[TRACE] [SIM-11757] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11757] timeslot has a random directory, telling Random module
[TRACE] [SIM-11757] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11757] Spinner for random is 69 out of 100, random_percent is 42
[TRACE] [SIM-11757] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11757] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11757] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11757] count: 100 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11757] count: 100 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11757] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11757] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11757] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x5641c400cc68)) sqlite
[TRACE] [SIM-11757] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11757] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11757] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11757] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11800: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164245] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164245] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164245] lock code is 2651f276-8ca2-414d-aee7-a990f5f1267e
[TRACE] [20220506-164245] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164245] subcommand is next - bouncing back
[DEBUG] [20220506-164245] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164245] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164245] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164245] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164245] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164245] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11800] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::set_rkey("last-datestring","11800") sqlite
[DEBUG] [SIM-11800] current datestring 11800, last_datestring 11757
[TRACE] [SIM-11800] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11800] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11800] *** OOB::periodic_process("../share/doc/example-channel/periodic",11757,11800)
[DEBUG] [SIM-11800] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-2","3") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-3","3") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-5","2") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11800] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11800]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11800] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11800] .. '10700' >= '11800' ?
[TRACE] [SIM-11800] .. '11700' >= '11800' ?
[DEBUG] [SIM-11800] this call is in timeslot 11700
[TRACE] [SIM-11800] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11800]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11800] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11800] .. '10700' > '11700' ?
[TRACE] [SIM-11800] .. '11700' > '11700' ?
[TRACE] [SIM-11800] .. '13100' > '11700' ?
[DEBUG] [SIM-11800] next timeslot is 13100
[DEBUG] [SIM-11800] 780 minutes until next schedule
[TRACE] [SIM-11800] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11800] previous call was in timeslot 11700
[TRACE] [SIM-11800] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11800] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11757,11800)
[DEBUG] [SIM-11800] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-2","4") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-3","4") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11800] *** DataMoving::set_rkey("interval-rr-counter-5","3") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11800] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11800] still in same timeslot, using existing history
[TRACE] [SIM-11800] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11800] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11800] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11800] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11800]     existing list 1 lines
[DEBUG] [SIM-11800] 1 items in timeslot-dir-history
[TRACE] [SIM-11800] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55f199905a38),ARRAY(0x55f199905a08)) sqlite
[TRACE] [SIM-11800]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11800]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11800] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11800]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11800] Using existing history
[TRACE] [SIM-11800] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11800]     existing list 1 lines
[DEBUG] [SIM-11800] history has 1 entry(ies)
[TRACE] [SIM-11800] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11800] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11800] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11800]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:100, L:79, W:0
[TRACE] [SIM-11800] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11800] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11800] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11800] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11800] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11800] *** Operation::process_any_active
[TRACE] [SIM-11800] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11800] timeslot has a random directory, telling Random module
[TRACE] [SIM-11800] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11800] Spinner for random is 51 out of 100, random_percent is 42
[TRACE] [SIM-11800] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11800] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11800] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11800] count: 100 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11800] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11800] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11800] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55f19a2d3b68)) sqlite
[TRACE] [SIM-11800] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11800] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11800] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11800] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11801: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164245] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164245] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164245] lock code is 42edc4a4-a551-4215-945d-cf3cf78e4356
[TRACE] [20220506-164245] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164245] subcommand is next - bouncing back
[DEBUG] [20220506-164245] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164245] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164245] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164245] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164245] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164245] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11801] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::set_rkey("last-datestring","11801") sqlite
[DEBUG] [SIM-11801] current datestring 11801, last_datestring 11800
[TRACE] [SIM-11801] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11801] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11801] *** OOB::periodic_process("../share/doc/example-channel/periodic",11800,11801)
[DEBUG] [SIM-11801] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11801] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11801] *** DataMoving::set_rkey("interval-rr-counter-2","5") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11801] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11801] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11801]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11801] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11801] .. '10700' >= '11801' ?
[TRACE] [SIM-11801] .. '11700' >= '11801' ?
[DEBUG] [SIM-11801] this call is in timeslot 11700
[TRACE] [SIM-11801] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11801]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11801] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11801] .. '10700' > '11700' ?
[TRACE] [SIM-11801] .. '11700' > '11700' ?
[TRACE] [SIM-11801] .. '13100' > '11700' ?
[DEBUG] [SIM-11801] next timeslot is 13100
[DEBUG] [SIM-11801] 779 minutes until next schedule
[TRACE] [SIM-11801] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11801] previous call was in timeslot 11700
[TRACE] [SIM-11801] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11801] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11800,11801)
[DEBUG] [SIM-11801] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11801] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11801] *** DataMoving::set_rkey("interval-rr-counter-2","6") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11801] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11801] still in same timeslot, using existing history
[TRACE] [SIM-11801] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11801] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11801] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11801] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11801]     existing list 1 lines
[DEBUG] [SIM-11801] 1 items in timeslot-dir-history
[TRACE] [SIM-11801] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x5591b96a68f8),ARRAY(0x5591b96a68c8)) sqlite
[TRACE] [SIM-11801]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11801]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11801] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11801]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11801] Using existing history
[TRACE] [SIM-11801] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11801]     existing list 2 lines
[DEBUG] [SIM-11801] history has 2 entry(ies)
[TRACE] [SIM-11801] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11801] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11801] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11801] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11801] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11801] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11801] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11801] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11801] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11801]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:101, L:79, W:0
[TRACE] [SIM-11801] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11801] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11801]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:101, L:222, W:0
[DEBUG] [SIM-11801] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11801] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11801] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11801] *** Operation::process_any_active
[TRACE] [SIM-11801] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11801] timeslot has a random directory, telling Random module
[TRACE] [SIM-11801] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11801] Spinner for random is 9 out of 100, random_percent is 42
[DEBUG] [SIM-11801] Hit for random, selecting and playing random track
[TRACE] [SIM-11801] *** Random::get_random_track("ARRAY(0x5591b96a6928)",779,)
[TRACE] [SIM-11801]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11801]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11801]     No tracks left in "ARRAY(0x5591b96a6928)" after checking history
[DEBUG] [SIM-11801] Random::get_random_track could not select a track
[DEBUG] [SIM-11801] Proceeding with normal flow
[TRACE] [SIM-11801] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11801] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11801] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11801] count: 101 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11801] count: 101 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11801] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11801] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11801] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x5591ba074918)) sqlite
[TRACE] [SIM-11801] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11801] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11801] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11801] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11804: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164245] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164245] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164245] lock code is 071cdefe-fbc0-4f52-91bc-6bc915f16bd4
[TRACE] [20220506-164245] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164245] subcommand is next - bouncing back
[DEBUG] [20220506-164245] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164245] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164245] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164245] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164245] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164245] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11804] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::set_rkey("last-datestring","11804") sqlite
[DEBUG] [SIM-11804] current datestring 11804, last_datestring 11801
[TRACE] [SIM-11804] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11804] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11804] *** OOB::periodic_process("../share/doc/example-channel/periodic",11801,11804)
[DEBUG] [SIM-11804] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-2","7") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-3","5") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-5","4") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-6","13") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-10","7") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-12","3") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-15","7") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11804]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11804] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-20","1") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-30","13") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 40 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-40","9") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 60 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-60","7") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 120 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-120","3") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11804] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11804]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11804] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11804] .. '10700' >= '11804' ?
[TRACE] [SIM-11804] .. '11700' >= '11804' ?
[DEBUG] [SIM-11804] this call is in timeslot 11700
[TRACE] [SIM-11804] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11804]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11804] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11804] .. '10700' > '11700' ?
[TRACE] [SIM-11804] .. '11700' > '11700' ?
[TRACE] [SIM-11804] .. '13100' > '11700' ?
[DEBUG] [SIM-11804] next timeslot is 13100
[DEBUG] [SIM-11804] 776 minutes until next schedule
[TRACE] [SIM-11804] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11804] previous call was in timeslot 11700
[TRACE] [SIM-11804] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11804] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11801,11804)
[DEBUG] [SIM-11804] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-2","8") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-3","6") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-5","5") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-6","14") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 10 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-10","8") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 12 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-12","4") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 15 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-15","8") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 20 minute mark - scanning for periodics
[DEBUG] [SIM-11804]     forcing a banner flip at the 20 minute mark, setting need-a-flip
[TRACE] [SIM-11804] *** DataMoving::set_rkey("need-a-flip","1") sqlite
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-20","2") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 30 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-30","14") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 40 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-40","10") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 60 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-60","8") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] new 120 minute mark - scanning for periodics
[TRACE] [SIM-11804] *** DataMoving::set_rkey("interval-rr-counter-120","4") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11804] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11804] still in same timeslot, using existing history
[TRACE] [SIM-11804] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11804] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11804] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11804] *** BannerUpdate::set_doUpdate_flag()
[TRACE] [SIM-11804] *** DataMoving::set_rkey("need-a-flip","") sqlite
[TRACE] [SIM-11804] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11804]     existing list 1 lines
[DEBUG] [SIM-11804] 1 items in timeslot-dir-history
[TRACE] [SIM-11804] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x563e4a29f8f8),ARRAY(0x563e4a29f8c8)) sqlite
[TRACE] [SIM-11804]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11804]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11804] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11804]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11804] Using existing history
[TRACE] [SIM-11804] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11804]     existing list 1 lines
[DEBUG] [SIM-11804] history has 1 entry(ies)
[TRACE] [SIM-11804] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11804] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11804] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11804]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:101, L:79, W:0
[TRACE] [SIM-11804] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11804] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11804] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11804] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11804] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11804] *** Operation::process_any_active
[TRACE] [SIM-11804] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11804] timeslot has a random directory, telling Random module
[TRACE] [SIM-11804] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11804] Spinner for random is 17 out of 100, random_percent is 42
[DEBUG] [SIM-11804] Hit for random, selecting and playing random track
[TRACE] [SIM-11804] *** Random::get_random_track("ARRAY(0x563e4a29f928)",776,)
[TRACE] [SIM-11804]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11804]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11804]     No tracks left in "ARRAY(0x563e4a29f928)" after checking history
[DEBUG] [SIM-11804] Random::get_random_track could not select a track
[DEBUG] [SIM-11804] Proceeding with normal flow
[TRACE] [SIM-11804] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11804] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11804] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11804] count: 101 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11804] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11804] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11804] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x563e4ac6e898)) sqlite
[TRACE] [SIM-11804] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11804] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11804] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11804] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11805: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164246] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164246] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164246] lock code is d98e3393-6114-491d-ab0a-e16b932e885a
[TRACE] [20220506-164246] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164246] subcommand is next - bouncing back
[DEBUG] [20220506-164246] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164246] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164246] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164246] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164246] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164246] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11805] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::set_rkey("last-datestring","11805") sqlite
[DEBUG] [SIM-11805] current datestring 11805, last_datestring 11804
[TRACE] [SIM-11805] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11805] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11805] *** OOB::periodic_process("../share/doc/example-channel/periodic",11804,11805)
[DEBUG] [SIM-11805] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11805] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11805] *** DataMoving::set_rkey("interval-rr-counter-2","9") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11805] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11805] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11805]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11805] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11805] .. '10700' >= '11805' ?
[TRACE] [SIM-11805] .. '11700' >= '11805' ?
[DEBUG] [SIM-11805] this call is in timeslot 11700
[TRACE] [SIM-11805] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11805]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11805] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11805] .. '10700' > '11700' ?
[TRACE] [SIM-11805] .. '11700' > '11700' ?
[TRACE] [SIM-11805] .. '13100' > '11700' ?
[DEBUG] [SIM-11805] next timeslot is 13100
[DEBUG] [SIM-11805] 775 minutes until next schedule
[TRACE] [SIM-11805] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11805] previous call was in timeslot 11700
[TRACE] [SIM-11805] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11805] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11804,11805)
[DEBUG] [SIM-11805] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11805] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11805] *** DataMoving::set_rkey("interval-rr-counter-2","10") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11805] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11805] still in same timeslot, using existing history
[TRACE] [SIM-11805] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11805] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11805] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11805] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11805]     existing list 1 lines
[DEBUG] [SIM-11805] 1 items in timeslot-dir-history
[TRACE] [SIM-11805] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x564d293608f8),ARRAY(0x564d293608c8)) sqlite
[TRACE] [SIM-11805]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11805]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11805] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11805]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11805] Using existing history
[TRACE] [SIM-11805] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11805]     existing list 2 lines
[DEBUG] [SIM-11805] history has 2 entry(ies)
[TRACE] [SIM-11805] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11805] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11805] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11805] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11805] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11805] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11805] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11805] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11805] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11805]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:102, L:79, W:0
[TRACE] [SIM-11805] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11805] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11805]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:102, L:222, W:0
[DEBUG] [SIM-11805] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11805] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11805] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11805] *** Operation::process_any_active
[TRACE] [SIM-11805] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11805] timeslot has a random directory, telling Random module
[TRACE] [SIM-11805] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11805] Spinner for random is 22 out of 100, random_percent is 42
[DEBUG] [SIM-11805] Hit for random, selecting and playing random track
[TRACE] [SIM-11805] *** Random::get_random_track("ARRAY(0x564d29360928)",775,)
[TRACE] [SIM-11805]     checking "channel"'s directory "../share/doc/example-channel/random" that was previously set for random tracks
[TRACE] [SIM-11805]     checking "timeslot"'s directory "../share/doc/example-channel/schedule/weekday/11700/random" that was previously set for random tracks
[TRACE] [SIM-11805]     No tracks left in "ARRAY(0x564d29360928)" after checking history
[DEBUG] [SIM-11805] Random::get_random_track could not select a track
[DEBUG] [SIM-11805] Proceeding with normal flow
[TRACE] [SIM-11805] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11805] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11805] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11805] count: 102 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11805] count: 102 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11805] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11805] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11805] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x564d29d30278)) sqlite
[TRACE] [SIM-11805] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11805] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11805] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11805] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
11808: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164246] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164246] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164246] lock code is dd30504f-0ed6-4181-b857-2bf257ed1fd5
[TRACE] [20220506-164246] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164246] subcommand is next - bouncing back
[DEBUG] [20220506-164246] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164246] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164246] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164246] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164246] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164246] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11808] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::set_rkey("last-datestring","11808") sqlite
[DEBUG] [SIM-11808] current datestring 11808, last_datestring 11805
[TRACE] [SIM-11808] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11808] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11808] *** OOB::periodic_process("../share/doc/example-channel/periodic",11805,11808)
[DEBUG] [SIM-11808] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-2","11") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-3","7") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-5","6") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11808] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11808]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11808] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11808] .. '10700' >= '11808' ?
[TRACE] [SIM-11808] .. '11700' >= '11808' ?
[DEBUG] [SIM-11808] this call is in timeslot 11700
[TRACE] [SIM-11808] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11808]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11808] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11808] .. '10700' > '11700' ?
[TRACE] [SIM-11808] .. '11700' > '11700' ?
[TRACE] [SIM-11808] .. '13100' > '11700' ?
[DEBUG] [SIM-11808] next timeslot is 13100
[DEBUG] [SIM-11808] 772 minutes until next schedule
[TRACE] [SIM-11808] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11808] previous call was in timeslot 11700
[TRACE] [SIM-11808] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11808] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11805,11808)
[DEBUG] [SIM-11808] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-2","12") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-3","8") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] new 5 minute mark - scanning for periodics
[TRACE] [SIM-11808] *** DataMoving::set_rkey("interval-rr-counter-5","7") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11808] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11808] still in same timeslot, using existing history
[TRACE] [SIM-11808] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11808] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11808] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11808] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11808]     existing list 1 lines
[DEBUG] [SIM-11808] 1 items in timeslot-dir-history
[TRACE] [SIM-11808] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55bf0d2958f8),ARRAY(0x55bf0d2958c8)) sqlite
[TRACE] [SIM-11808]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11808]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11808] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11808]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11808] Using existing history
[TRACE] [SIM-11808] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11808]     existing list 1 lines
[DEBUG] [SIM-11808] history has 1 entry(ies)
[TRACE] [SIM-11808] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11808] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11808] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11808]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:102, L:79, W:0
[TRACE] [SIM-11808] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11808] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11808] timeslot 11700 has 1 tracks not played yet.
[TRACE] [SIM-11808] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11808] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11808] *** Operation::process_any_active
[TRACE] [SIM-11808] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11808] timeslot has a random directory, telling Random module
[TRACE] [SIM-11808] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11808] Spinner for random is 50 out of 100, random_percent is 42
[TRACE] [SIM-11808] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11808] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11808] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11808] count: 102 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11808] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11808] selected track 1: Mr. Smith - Hellafunk.mp3
[TRACE] [SIM-11808] *** DataMoving::set_metadata(3aeebe6355abc0e8b586178e55acd7d9,HASH(0x55bf0dc66688)) sqlite
[TRACE] [SIM-11808] *** DataMoving::append_to_list("history","3aeebe6355abc0e8b586178e55acd7d9") sqlite
[TRACE] [SIM-11808] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3",,0)
[TRACE] [SIM-11808] *** DataMoving::set_rkey("now-playing","Mr. Smith - Hellafunk.mp3") sqlite
[TRACE] [SIM-11808] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3
11809: [TRACE] [] *** release_lock(1)
[DEBUG] [20220506-164246] === New Call [example-channel next] [jockeycall-ezstream-intake-call.pl] ===
[TRACE] [20220506-164246] *** BannerUpdate::set_channel("example-channel","../share/doc/example-channel")
[DEBUG] [20220506-164246] lock code is 2541ca02-2a77-4e28-97a9-fc4ddf18adfa
[TRACE] [20220506-164246] *** Subcommand::process_subcommand_other_than_next("example-channel","next")
[TRACE] [20220506-164246] subcommand is next - bouncing back
[DEBUG] [20220506-164246] [Concurrency::acquire_lock] match, lock is acquired
[TRACE] [20220506-164246] *** OOB::oob_process_if_applicable
[TRACE] [20220506-164246] *** DataMoving::oob_queue_pop sqlite
[TRACE] [20220506-164246] *** Operation::set_channel("example-channel")
[TRACE] [20220506-164246] *** Random::set_channel_dir("../share/doc/example-channel/random")
[DEBUG] [20220506-164246] JOCKEYCALL_SIMULATION_MODE enabled - using datestring from JOCKEYCALL_TIMESLOT if valid
[TRACE] [SIM-11809] *** DataMoving::get_rkey("last-datestring","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::set_rkey("last-datestring","11809") sqlite
[DEBUG] [SIM-11809] current datestring 11809, last_datestring 11808
[TRACE] [SIM-11809] *** DataMoving::get_rkey("last-day","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::set_rkey("last-day","125") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11809] *** DataMoving::set_rkey("last-day-of-week","5") sqlite
[TRACE] [SIM-11809] *** OOB::periodic_process("../share/doc/example-channel/periodic",11808,11809)
[DEBUG] [SIM-11809] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-2","13") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-3","9") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-6","15") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] no periodic interval subdirectories to process
[TRACE] [SIM-11809] *** DataMoving::read_schedule_dir(../share/doc/example-channel/schedule/weekday)
[DEBUG] [SIM-11809]     2 dir(s) found in "../share/doc/example-channel/schedule/weekday"
[DEBUG] [SIM-11809] scanning directories in ../share/doc/example-channel/schedule/weekday for appropriate timeslot
[TRACE] [SIM-11809] .. '10700' >= '11809' ?
[TRACE] [SIM-11809] .. '11700' >= '11809' ?
[DEBUG] [SIM-11809] this call is in timeslot 11700
[TRACE] [SIM-11809] *** DataMoving::setup_timeslot_vars("11700") sqlite
[TRACE] [SIM-11809]     timeslot_id is de69bac309ff89b8ad67ed624c314a45
[DEBUG] [SIM-11809] scanning ../share/doc/example-channel/schedule/weekday for next timeslot
[TRACE] [SIM-11809] .. '10700' > '11700' ?
[TRACE] [SIM-11809] .. '11700' > '11700' ?
[TRACE] [SIM-11809] .. '13100' > '11700' ?
[DEBUG] [SIM-11809] next timeslot is 13100
[DEBUG] [SIM-11809] 771 minutes until next schedule
[TRACE] [SIM-11809] *** DataMoving::get_rkey("last_timeslot","0") sqlite
[DEBUG] [SIM-11809] previous call was in timeslot 11700
[TRACE] [SIM-11809] *** DataMoving::set_rkey("last_timeslot","11700") sqlite
[TRACE] [SIM-11809] *** OOB::periodic_process("../share/doc/example-channel/schedule/weekday/11700/periodic",11808,11809)
[DEBUG] [SIM-11809] [OOB::periodic_process] Looking at intervals for periodics
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-2","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 2 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-2","14") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-3","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 3 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-3","10") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-5","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-6","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] new 6 minute mark - scanning for periodics
[TRACE] [SIM-11809] *** DataMoving::set_rkey("interval-rr-counter-6","16") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-10","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-12","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-15","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-20","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-30","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-40","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-60","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-120","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-240","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-480","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_rkey("interval-rr-counter-720","0") sqlite
[DEBUG] [SIM-11809] [OOB::periodic_process] no periodic interval subdirectories to process
[DEBUG] [SIM-11809] still in same timeslot, using existing history
[TRACE] [SIM-11809] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_key("timeslot-event-counter","") sqlite
[TRACE] [SIM-11809] *** BannerUpdate::set_timeslot("../share/doc/example-channel/schedule/weekday/11700")
[TRACE] [SIM-11809] *** DataMoving::get_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::set_rkey("need-a-flip","0") sqlite
[TRACE] [SIM-11809] *** DataMoving::read_list("timeslot-dir-history") sqlite
[TRACE] [SIM-11809]     existing list 1 lines
[DEBUG] [SIM-11809] 1 items in timeslot-dir-history
[TRACE] [SIM-11809] *** DataMoving::read_timeslot_dir(../share/doc/example-channel/schedule/weekday/11700,ARRAY(0x55caaae14a38),ARRAY(0x55caaae14a08)) sqlite
[TRACE] [SIM-11809]     push ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[DEBUG] [SIM-11809]     1 subdirectory(ies) found in "../share/doc/example-channel/schedule/weekday/11700"
[TRACE] [SIM-11809] tsd is ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory
[TRACE] [SIM-11809]  parameters: ordered=0, cycle=1, newhistory=1, limit=99999
[DEBUG] [SIM-11809] Using existing history
[TRACE] [SIM-11809] *** DataMoving::read_list("history") sqlite
[TRACE] [SIM-11809]     existing list 2 lines
[DEBUG] [SIM-11809] history has 2 entry(ies)
[TRACE] [SIM-11809] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11809] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11809] track 3aeebe6355abc0e8b586178e55acd7d9: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3 found in history, skipped
[TRACE] [SIM-11809] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11809] track c9ae472f31676030599fffaba96cc084: ../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3 found in history, skipped
[DEBUG] [SIM-11809] timeslot 11700 has 0 tracks not played yet.
[TRACE] [SIM-11809] *** DataMoving::new_list("history") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_candidate_tracks(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory) sqlite
[TRACE] [SIM-11809] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/Mr. Smith - Hellafunk.mp3)
[TRACE] [SIM-11809] *** DataMoving::get_metadata(3aeebe6355abc0e8b586178e55acd7d9)
[TRACE] [SIM-11809]     candidate track 0: 3aeebe6355abc0e8b586178e55acd7d9, Mr. Smith - Hellafunk.mp3, C:103, L:79, W:0
[TRACE] [SIM-11809] *** MetadataProcess::metadata_process(../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3)
[TRACE] [SIM-11809] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
[TRACE] [SIM-11809]     candidate track 1: c9ae472f31676030599fffaba96cc084, HoliznaRAPS - Good Kids - Instrumental.mp3, C:103, L:222, W:0
[DEBUG] [SIM-11809] timeslot 11700 has 2 tracks not played yet.
[TRACE] [SIM-11809] *** OOB::oob_process_if_applicable
[TRACE] [SIM-11809] *** DataMoving::oob_queue_pop sqlite
[TRACE] [SIM-11809] *** Operation::process_any_active
[TRACE] [SIM-11809] *** DataMoving::get_rkey("current_operation","") sqlite
[DEBUG] [SIM-11809] timeslot has a random directory, telling Random module
[TRACE] [SIM-11809] *** Random::set_timeslot_dir("../share/doc/example-channel/schedule/weekday/11700/random")
[DEBUG] [SIM-11809] Spinner for random is 54 out of 100, random_percent is 42
[TRACE] [SIM-11809] *** DataMoving::get_rkey("current-mode","") sqlite
[TRACE] [SIM-11809] timeslot portion is unordered, sorting by play count
[TRACE] [SIM-11809] SORTED [timeslot tracks] =============================================
[TRACE] [SIM-11809] count: 103 track:HoliznaRAPS - Good Kids - Instrumental.mp3 length:222
[TRACE] [SIM-11809] count: 103 track:Mr. Smith - Hellafunk.mp3 length:79
[TRACE] [SIM-11809] SORTED [timeslot tracks] =============================================
[DEBUG] [SIM-11809] selected track 1: HoliznaRAPS - Good Kids - Instrumental.mp3
[TRACE] [SIM-11809] *** DataMoving::set_metadata(c9ae472f31676030599fffaba96cc084,HASH(0x55caab7e35c8)) sqlite
[TRACE] [SIM-11809] *** DataMoving::append_to_list("history","c9ae472f31676030599fffaba96cc084") sqlite
[TRACE] [SIM-11809] *** DeliverTrack::now_play("../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3",,0)
[TRACE] [SIM-11809] *** DataMoving::set_rkey("now-playing","HoliznaRAPS - Good Kids - Instrumental.mp3") sqlite
[TRACE] [SIM-11809] *** DataMoving::get_metadata(c9ae472f31676030599fffaba96cc084)
../share/doc/example-channel/schedule/weekday/11700/t-010-random-cycle-newhistory/HoliznaRAPS - Good Kids - Instrumental.mp3
